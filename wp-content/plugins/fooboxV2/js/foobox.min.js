/**!
 * FooBox - A jQuery plugin for responsive lightboxes
 * @version 2.1.2
 * @link http://fooplugins.com/plugins/foobox-jquery
 * @copyright Steven Usher & Brad Vincent 2014
 * @license Released under the MIT license.
 * You are free to use FooBox jQuery in personal projects as long as this copyright header is left intact.
 */
(function(e,o,t,undefined){if(e&&o){o.FooBox={defaults:{affiliate:{enabled:!0,prefix:"Powered by ",url:"http://fooplugins.com/plugins/foobox/"},alwaysInit:!1,closeOnOverlayClick:!0,containerCssClass:"fbx-instance",countMessage:"item %index of %total",error:"Could not load the item",excludes:".fbx-link, .nofoobox",externalSelector:"a[data-foobox],input[data-foobox]",fitToScreen:!1,hideScrollbars:!0,loadDelay:0,loaderTimeout:600,modalClass:"",preload:!1,rel:null,resizeSpeed:300,selector:"a",showButtons:!0,showCount:!0,style:"fbx-rounded",theme:"fbx-light",transitionInSpeed:200,transitionOutSpeed:200,initCallback:null,loop:!0},version:"2.0.10",instances:[],ready:function(o){(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?o(e):setTimeout(function(){FooBox.ready(o)},1)}},FooBox.format=function(){var e,o,t=arguments[0];for(e=0;arguments.length-1>e;e++)o=RegExp("\\{"+e+"\\}","gm"),t=t.replace(o,arguments[e+1]);return t},FooBox.browser={isIE:!1,isChrome:!1,isSafari:!1,version:0,css:"",iOS:!1,Mac:!1,isMobile:function(e){return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}(navigator.userAgent||navigator.vendor||o.opera),check:function(){var e=navigator.appVersion.toLowerCase(),o=navigator.userAgent.toLowerCase(),t=navigator.platform;FooBox.browser.iOS=/(iPad|iPhone|iPod)/g.test(t),1==FooBox.browser.iOS&&(FooBox.browser.css+=" fbx-ios"),FooBox.browser.Mac=/(Mac)/g.test(t),1==FooBox.browser.Mac&&(FooBox.browser.css+=" fbx-mac"),FooBox.browser.isChrome=e.indexOf("chrome")>-1||e.indexOf("crios")>-1,FooBox.browser.isChrome&&(FooBox.browser.css+=" fbx-chrome"),FooBox.browser.isSafari=e.indexOf("safari")>-1&&!FooBox.browser.isChrome,FooBox.browser.isSafari&&(FooBox.browser.css+=" fbx-safari"),FooBox.browser.isFirefox=o.indexOf("firefox")>-1,FooBox.browser.isFirefox&&(FooBox.browser.css+=" fbx-firefox");var i=o.indexOf("msie "),n=o.indexOf("trident/"),s=o.indexOf("edge/");if(FooBox.browser.isIE=i>-1||n>-1||s>-1,FooBox.browser.isIE){if(i>-1)FooBox.browser.version=parseInt(o.substring(i+5,o.indexOf(".",i)),10);else if(n>-1){var a=o.indexOf("rv:");FooBox.browser.version=parseInt(o.substring(a+3,o.indexOf(".",a)),10)}else s>-1&&(FooBox.browser.version=parseInt(o.substring(s+5,o.indexOf(".",s)),10));FooBox.browser.css=FooBox.format("fbx-ie fbx-ie{0}",FooBox.browser.version)}},supportsTransitions:function(){var e,o=document.body||document.documentElement,t=o.style,i="transition";if("string"==typeof t[i])return!0;e=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;e.length>n;n++)if("string"==typeof t[e[n]+i])return!0;return!1},transitionEnd:function(){var e,o=document.createElement("fakeelement"),t={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in t)if(t.hasOwnProperty(e)&&o.style[e]!==undefined)return t[e];return null}},FooBox.browser.check(),FooBox.qualifiedURL=function(e){var o=document.createElement("a");return o.href=e,o.href},t||(t={}),t.log=t.log||function(){},t.warn=t.warn||function(){},t.error=t.error||function(){},t.info=t.info||function(){};var i={write:function(){t.log(FooBox.format.apply(i,arguments))},error:function(){1===arguments.length&&arguments[0]instanceof Error?t.error(arguments[0]):t.error(FooBox.format.apply(i,arguments))}};jQuery.Event.prototype.fb={instance:null,modal:null,options:null},FooBox.raise=function(o,t,i){i=i||{};var n=e.Event(t);return n.fb={},n.fb.instance=o,n.fb.modal=o.modal.element,n.fb.options=o.options,e.extend(!0,n.fb,i),o.element.one(t,function(e){e.stopPropagation()}).trigger(n),n},FooBox.isjQuery=function(e){return e instanceof jQuery?!0:e&&e.jquery},FooBox.options={isMultipart:function(e,o){return"string"==typeof e&&e.length>0&&-1!==e.indexOf(o)},hasProperties:function(e){if("object"!=typeof e)return!1;var o;for(o in e)if(e.hasOwnProperty(o))return!0;return!1},get:function(e,o){if(FooBox.options.isMultipart(o,".")){var t=o.substring(0,o.indexOf(".")),i=o.substring(o.indexOf(".")+1);return e[t]=e[t]||{},FooBox.options.get(e[t],i)}return e[o]},set:function(e,o,t){if(FooBox.options.isMultipart(o,".")){var i=o.substring(0,o.indexOf(".")),n=o.substring(o.indexOf(".")+1);e[i]=e[i]||{},FooBox.options.set(e[i],n,t)}else e[o]=t},merge:function(e,o,t){var i,n=Array.prototype.slice.call(arguments);for(e=n.shift(),o=n.shift(),FooBox.options._merge(e,o),i=0;n.length>i;i++)t=n[i],FooBox.options._merge(e,t);return e},_merge:function(o,t){var i;for(i in t)t.hasOwnProperty(i)&&(FooBox.options.hasProperties(t[i])&&!e.isArray(t[i])?(o[i]=o[i]||{},FooBox.options._merge(o[i],t[i])):e.isArray(t[i])?(o[i]=[],e.extend(!0,o[i],t[i])):o[i]=t[i])}},FooBox.objects={registered:{},ensure:function(e){return FooBox.objects.registered[e]=FooBox.objects.registered[e]||[]},register:function(o,t,i){var n=FooBox.objects.ensure(o);return n.push(t),"object"==typeof i&&e.extend(!0,FooBox.defaults,i),!0},load:function(e,o){var t,n,s=[],a=FooBox.objects.ensure(e);for(n=0;a.length>n;n++)try{t=a[n],s.push(new t(o))}catch(r){i.error(r)}o.objects=o.objects||{},o.objects[e]=s},call:function(o,t,n){var s,a=Array.prototype.slice.call(arguments);o=a.shift(),t=a.shift(),n=a.shift();for(var r=t.objects[o]||[],l=0;r.length>l;l++)try{if(s=r[l],!e.isFunction(s[n]))continue;s[n].apply(s,a)}catch(d){i.error(d)}},get:function(o,t,i){var n,s=t.objects[o];if(!s||!e.isFunction(i))return null;for(n=0;s.length>n;n++)if(i(s[n]))return s[n];return null}},FooBox.addons={_ns:"addons",validate:function(o){return e.isFunction(o)?!0:(i.error('Expected type "function", received type "{0}".',typeof o),!1)},register:function(e,o){return FooBox.addons.validate(e)?FooBox.objects.register(FooBox.addons._ns,e,o):(i.error("Failed to register the addon."),!1)},load:function(e){FooBox.objects.load(FooBox.addons._ns,e)},call:function(){var e=Array.prototype.slice.call(arguments);e.unshift(FooBox.addons._ns),FooBox.objects.call.apply(this,e)}},FooBox.handlers={_ns:"handlers",validate:function(o){if(!e.isFunction(o))return i.error('Expected type "function", received type "{0}".',typeof o),!1;var t=new o;return e.isFunction(t.handles)?e.isFunction(t.defaults)?e.isFunction(t.parse)?e.isFunction(t.load)?e.isFunction(t.getSize)?e.isFunction(t.hasChanged)?e.isFunction(t.preload)?!0:(i.error('The required "preload" method is not implemented.'),!1):(i.error('The required "hasChanged" method is not implemented.'),!1):(i.error('The required "getSize" method is not implemented.'),!1):(i.error('The required "load" method is not implemented.'),!1):(i.error('The required "parse" method is not implemented.'),!1):(i.error('The required "defaults" method is not implemented.'),!1):(i.error('The required "handles" method is not implemented.'),!1)},register:function(e,o){return FooBox.handlers.validate(e)?FooBox.objects.register(FooBox.handlers._ns,e,o):(i.error("Failed to register the handler."),!1)},load:function(e){FooBox.objects.load(FooBox.handlers._ns,e)},call:function(){var e=Array.prototype.slice.call(arguments);e.unshift(FooBox.handlers._ns),FooBox.objects.call.apply(this,e)},get:function(e,o){return FooBox.objects.get(FooBox.handlers._ns,e,function(e){return e.type==o})}},FooBox.Item=function(o,t,i){return this.type=o,this.element=FooBox.isjQuery(t)?t:e(t),this.handler=i,this.width=null,this.height=null,this.url=null,this.overflow=!1,this.preloaded=!1,this.proportion=!1,this.error=!1,this},FooBox.Size=function(e,o){return this.width="number"==typeof e?e:parseInt(e,0),this.height="number"==typeof o?o:parseInt(o,0),this.equalTo=function(e){return this.width==e.width&&this.height==e.height},this},FooBox.Timer=function(){this.id=null,this.busy=!1;var e=this;return this.start=function(o,t,i){i=i||o,e.stop(),e.id=setTimeout(function(){o.call(i),e.id=null,e.busy=!1},t),e.busy=!0},this.stop=function(){null!==e.id&&e.busy!==!1&&(clearTimeout(e.id),e.id=null,e.busy=!1)},this},e.fn.foobox=function(o){return o=o||{},this.each(function(){var t=e(this).data("fbx_instance");if(t instanceof FooBox.Instance)if(1==t.options.alwaysInit){var i=t.options;t.destroy(),t=new FooBox.Instance(t.id),t.init(this,e.extend(!0,i,o))}else t.reinit(o);else{if(t=e(this).data("fbx_p_instance"),t instanceof FooBox.Instance)return;t=new FooBox.Instance,t.init(this,o)}})},FooBox.Modal=function(o){this.FooBox=o,this.element=null,this.loaderTimeout=new FooBox.Timer,this._first=!1,this._busy=!1,this._closed=!1;var t=this;return this.init=function(e,o){t.setup.html(),t.setup.options(o),t.setup.bind()},this.reinit=function(e){t.setup.options(e)},this.destroy=function(){FooBox.isjQuery(t.element)&&t.element.remove()},this.setup={html:function(){if(!FooBox.isjQuery(t.element)){t.element=e('<div class="fbx-modal"></div>'),t.element.append('<div class="fbx-inner-spacer"></div>');var o=e('<div class="fbx-stage"></div>');o.append('<div class="fbx-item-current"></div>'),o.append('<div class="fbx-item-next"></div>');var i=e('<div class="fbx-inner fbx-inner-shadow"></div>');i.append(o),i.append('<a href="#prev" class="fbx-prev fbx-btn-transition fbx-btn-shadow"></a>'),i.append('<div class="fbx-credit"><a target="_blank" href=""><em></em><span> FooBox</span></a></div>'),i.append('<span class="fbx-count" />'),i.append('<a href="#next" class="fbx-next fbx-btn-transition fbx-btn-shadow"></a>'),i.append('<a href="#close" class="fbx-close fbx-btn-transition fbx-btn-shadow"></a>'),t.element.append('<div class="fbx-loader"><div></div></div>'),t.element.append(i),t.FooBox.raise("foobox.setupHtml"),e("body").append(t.element)}},options:function(e){var o;t.element.removeClass().addClass("fbx-modal").addClass(FooBox.format("fbx-{0}",t.FooBox.id)).addClass(t.FooBox.element.data("style")||e.style).addClass(t.FooBox.element.data("theme")||e.theme).addClass(t.FooBox.element.data("modal-class")).addClass(e.modalClass).data("fbx_instance",t.FooBox),t.element.addClass(FooBox.browser.css),o=e.affiliate.enabled?"":"none",t.element.find(".fbx-credit").css("display",o),e.affiliate.enabled&&(t.element.find(".fbx-credit > a").attr("href",e.affiliate.url),t.element.find(".fbx-credit > a > em").text(e.affiliate.prefix)),o=e.showCount&&t.FooBox.items.multiple()?"":"none",t.element.find(".fbx-count").css("display",o),e.showButtons&&t.FooBox.items.multiple()||t.element.addClass("fbx-no-buttons"),t.FooBox.raise("foobox.setupOptions")},bind:function(){1==t.FooBox.options.closeOnOverlayClick&&t.element.unbind("click.foobox").bind("click.foobox",function(o){1==t.FooBox.options.closeOnOverlayClick&&e(o.target).is(".fbx-modal")&&t.close()}),t.element.find(".fbx-close").unbind("click.foobox").bind("click.foobox",function(e){e.preventDefault(),e.stopPropagation(),t.close()}).end().find(".fbx-prev").unbind("click.foobox").bind("click.foobox",function(o){o.preventDefault(),o.stopPropagation(),e(this).hasClass("fbx-disabled")||t.prev()}).end().find(".fbx-next").unbind("click.foobox").bind("click.foobox",function(o){o.preventDefault(),o.stopPropagation(),e(this).hasClass("fbx-disabled")||t.next()})}},this.prioritize=function(){FooBox.instances.length>1&&t.element.nextAll(".fbx-modal:last").after(t.element)},this.preload=function(){if(1==t.FooBox.options.preload){var e=t.FooBox.items.prev();e&&e.handler.preload(e);var o=t.FooBox.items.next();o&&o.handler.preload(o)}},this.show=function(o){function n(e){if(t.loaderTimeout.stop(),t.element.removeClass("fbx-loading"),t._busy=!1,i.error(e),!t.FooBox.raise("foobox.onError",{error:e}).isDefaultPrevented()){var n=t.FooBox.items.error(s.index);null!=n&&t.show(o)}}o=o||!1,t._first=o,t._busy=!0,t._closed=!1,e("body").addClass("fbx-active"),t.FooBox.options.hideScrollbars&&e("body,html").css("overflow","hidden");var s=t.FooBox.items.current();1==s.error?t.element.addClass("fbx-error"):t.element.removeClass("fbx-error"),t.element.hasClass("fbx-show")||(t.prioritize(),t.element.addClass("fbx-loading").find(".fbx-inner").css({width:"100px",height:"100px","margin-top":"-50px","margin-left":"-50px"}));var a=t.element.find(".fbx-item-current"),r=t.element.find(".fbx-item-next");if(r.hide().css("opacity","0"),t.element.find(".fbx-count").text(t.FooBox.options.countMessage.replace("%index",""+(t.FooBox.items.indexes.current+1)).replace("%total",""+t.FooBox.items.array.length)),t.FooBox.raise("foobox.beforeLoad",{item:s}).isDefaultPrevented())return t._busy=!1,undefined;if(s.handler.hasChanged(s)){var l=s.index,d=s.element.get(0);s=s.handler.parse(s.element);var f=t.FooBox.raise("foobox.parseItem",{element:s.element,item:s});d.index=f.fb.item.index=l,t.FooBox.items.array[l]=f.fb.item}t.preload(),t.loaderTimeout.start(function(){t.element.addClass("fbx-loading")},t.FooBox.options.loaderTimeout),setTimeout(function(){t.checkForLoop(s),s.handler.load(s,r,function(e){return 1==t._closed?(t._busy=!1,undefined):(t.transitionOut(a,function(){return 1==t._closed?(t._busy=!1,undefined):(t.resize(e,function(){return 1==t._closed?(t._busy=!1,undefined):(t.loaderTimeout.stop(),r.show(),t.transitionIn(r,function(){return 1==t._closed?(t._busy=!1,undefined):(r.add(a).toggleClass("fbx-item-next fbx-item-current"),a.empty(),t.element.hasClass("fbx-show")?(t.element.removeClass("fbx-loading"),t.FooBox.raise("foobox.afterLoad",{item:s}),t._busy=!1):t.FooBox.raise("foobox.beforeShow",{item:s}).isDefaultPrevented()||(t.element.removeClass("fbx-loading").addClass("fbx-show"),t.FooBox.raise("foobox.afterShow",{item:s}),t.FooBox.raise("foobox.afterLoad",{item:s}),t._busy=!1),undefined)},n),undefined)},n),undefined)},n),undefined)},n)},t.FooBox.options.loadDelay)},this.checkForLoop=function(e){1!=t.FooBox.options.loop&&(t.element.find(".fbx-prev, .fbx-next").removeClass("fbx-disabled"),t.FooBox.items.is.first(e)&&t.element.find(".fbx-prev").addClass("fbx-disabled"),t.FooBox.items.is.last(e)&&t.element.find(".fbx-next").addClass("fbx-disabled"))},this.resize=function(o,i,n){try{if(0===o.width||0===o.height)return e.isFunction(n)&&n(FooBox.format("Invalid size supplied. Width = {0}, Height = {1}",o.width,o.height)),undefined;var s=t.FooBox.items.current(),a=t.element.find(".fbx-inner"),r=t.element.find(".fbx-inner-spacer"),l=parseInt(r.css("padding-top"),0),d=parseInt(r.css("padding-bottom"),0),f=parseInt(r.css("padding-left"),0),c=parseInt(r.css("padding-right"),0),u=parseInt(a.css("border-top-width"),0),h=parseInt(a.css("border-bottom-width"),0),m=parseInt(a.css("border-left-width"),0),p=parseInt(a.css("border-right-width"),0),b=parseInt(a.css("padding-left"),0),x=l+d+2*b+u+h,g=f+c+2*b+m+p,v=new FooBox.Size(parseInt(a.css("width"),0),parseInt(a.css("height"),0)),w=new FooBox.Size(t.element.width()-g,t.element.height()-x),y=w.width/o.width;o.height*y>w.height&&(y=w.height/o.height),t.FooBox.options.fitToScreen===!0||1==s.proportion&&(o.height>w.height||o.width>w.width)?(o.height=Math.floor(o.height*y),o.width=Math.floor(o.width*y)):0==s.proportion&&(o.height>w.height&&(o.height=w.height),o.width>w.width&&(o.width=w.width)),100>o.height&&(o.height=100),100>o.width&&(o.width=100);var F=-(o.height/2+b+(u+h)/2+(d-l)),B=-(o.width/2+b+(m+p)/2);if(v.equalTo(o))a.css({height:o.height,width:o.width,"margin-top":F,"margin-left":B}),t.overflow(s,o),t.FooBox.raise("foobox.afterResize",{item:s,size:o}),e.isFunction(i)&&i();else if(!t.FooBox.raise("foobox.beforeResize",{item:s,size:o,offset:{top:F,left:B},error:n,success:i}).isDefaultPrevented())if(t.element.hasClass("fbx-show"))if(FooBox.browser.supportsTransitions()){var C=t.FooBox.options.resizeSpeed/1e3,k="all "+C+"s ease-in-out";a.css({WebkitTransition:k,MozTransition:k,MsTransition:k,OTransition:k,transition:k}),a.css({height:o.height,width:o.width,"margin-top":F,"margin-left":B}),setTimeout(function(){a.css({WebkitTransition:"",MozTransition:"",MsTransition:"",OTransition:"",transition:""}),t.overflow(s,o),t.FooBox.raise("foobox.afterResize",{item:s,size:o}),e.isFunction(i)&&i(o)},t.FooBox.options.resizeSpeed)}else a.animate({height:o.height,width:o.width,"margin-top":F,"margin-left":B},t.FooBox.options.resizeSpeed,function(){t.overflow(s,o),t.FooBox.raise("foobox.afterResize",{item:s,size:o}),e.isFunction(i)&&i(o)});else a.css({height:o.height,width:o.width,"margin-top":F,"margin-left":B}),t.overflow(s,o),t.FooBox.raise("foobox.afterResize",{item:s,size:o}),e.isFunction(i)&&i()}catch(z){e.isFunction(n)&&n(z)}},this.overflow=function(e,o){1==e.overflow&&(o.width<.8*e.width||o.height<.8*e.height)||1==e.overflow&&0==e.proportion&&(o.width<e.width||o.height<e.height)?t.element.find(".fbx-item").css({width:e.width,height:e.height,overflow:""}):t.element.find(".fbx-item").css({width:"",height:"",overflow:"hidden"})},this.transitionOut=function(o,i,n){try{if(!t.element.hasClass("fbx-show"))return e.isFunction(i)&&i(),undefined;o.animate({opacity:0},o.is(":visible")?t.FooBox.options.transitionOutSpeed:0,function(){e.isFunction(i)&&i()})}catch(s){e.isFunction(n)&&n(s)}},this.transitionIn=function(o,i,n){try{if(!t.element.hasClass("fbx-show"))return o.css({opacity:1}),e.isFunction(i)&&i(),undefined;o.animate({opacity:1},t.FooBox.options.transitionInSpeed,function(){e.isFunction(i)&&i()})}catch(s){e.isFunction(n)&&n(s)}},this.close=function(){t.FooBox.raise("foobox.beforeClose").isDefaultPrevented()||(t._closed=!0,t._busy=!1,t.element.removeClass("fbx-loading fbx-show"),e("body").removeClass("fbx-active"),t.FooBox.raise("foobox.close"),t.element.find(".fbx-item-current, .fbx-item-next").empty(),t.FooBox.options.hideScrollbars&&e("body,html").css("overflow",""),t.FooBox.raise("foobox.afterClose"))},this.prev=function(e){if(1!=t._busy){if(t.FooBox.items.indexes.set(t.FooBox.items.indexes.prev),"string"==typeof e)for(var o=t.FooBox.items.current();o.type!=e;)t.FooBox.items.indexes.set(t.FooBox.items.indexes.prev),o=t.FooBox.items.current();t.show(!1),t.FooBox.raise("foobox.previous")}},this.next=function(e){if(1!=t._busy){if(t.FooBox.items.indexes.set(t.FooBox.items.indexes.next),"string"==typeof e)for(var o=t.FooBox.items.current();o.type!=e;)t.FooBox.items.indexes.set(t.FooBox.items.indexes.next),o=t.FooBox.items.current();t.show(!1),t.FooBox.raise("foobox.next")}},this},FooBox.Instance=function(o){this.id=null,"number"==typeof o?(this.id=o,FooBox.instances[o-1]=this):this.id=FooBox.instances.push(this),this.element=null,this.options=e.extend(!0,{},FooBox.defaults),this.modal=new FooBox.Modal(this),this.objects={},FooBox.addons.load(this),FooBox.handlers.load(this);var t=this;return this.raise=function(e,o){return FooBox.raise(t,e,o)},this.init=function(o,i){t.element=FooBox.isjQuery(o)?o:e(o),t.options=FooBox.options.merge(t.options,i||{}),FooBox.addons.call(t,"preinit",t.element,t.options),t.items.init(),t.items.array.length>0?(t.element.data("fbx_instance",t),t.options.containerCssClass&&t.element.addClass(t.options.containerCssClass),t.setup.bind(),t.modal.init(o,t.options),FooBox.handlers.call(t,"init",t.element,t.options),t.raise("foobox.initialized"),e.isFunction(t.options.initCallback)&&t.options.initCallback.call(t)):t.destroy()},this.reinit=function(e){t.options=FooBox.options.merge(t.options,e||{}),t.items.init(!0),t.items.array.length>0?(t.setup.bind(),t.modal.reinit(t.options),FooBox.handlers.call(t,"reinit",t.options),t.raise("foobox.reinitialized")):t.destroy()},this.destroy=function(){FooBox.addons.call(t,"destroy"),FooBox.handlers.call(t,"destroy"),t.items.destroy(),t.modal.destroy(),t.element.removeClass("fbx-instance fbx-item").data({fbx_instance:null,fbx_p_instance:null}),t.id==FooBox.instances.length?FooBox.instances.splice(t.id-1,1):FooBox.instances[t.id-1]=null,t.raise("foobox.destroy")},this.setup={bind:function(){e(t.options.externalSelector).unbind("click.fooboxExternal").bind("click.fooboxExternal",function(o){o.preventDefault();var t=e(this).data("foobox"),i=e(t),n=i.data("fbx_instance")||i.data("fbx_p_instance");return i.length>0&&n instanceof FooBox.Instance&&n.modal instanceof FooBox.Modal&&n.modal.show(!0),!1})}},this.items={array:[],indexes:{prev:-1,current:0,next:1,direction:"*",set:function(e){var o=t.items.indexes.current;e=e||0,e=e>t.items.array.length-1?0:0>e?t.items.array.length-1:e;var i=e-1,n=e+1;t.items.indexes.current=e,t.items.indexes.prev=0>i?t.items.array.length-1:i,t.items.indexes.next=n>t.items.array.length-1?0:n,t.items.indexes.direction=t.items.indexes._direction(o,e,t.items.array.length-1)},_direction:function(e,o,t){return 0==o&&e==t?">":o==t&&0==e?"<":o>e?">":e>o?"<":"*"}},new_array:function(o){o=o||!1;var i,n,s,a=0;if(1==o){if(t.items.array.length>0){for(var r=0;t.items.array.length>r;r++)i=t.items.array[r],FooBox.isjQuery(i.element)?0==i.element.parents(":first").length&&(t.items.array.splice(r,1),r-=1):i.option||(t.items.array.splice(r,1),r-=1);for(var l=0;t.items.array.length>l;l++)i=t.items.array[l],FooBox.isjQuery(i.element)?(s=i.element.get(0),s.index=i.index=l):i.index=l}}else t.items.array=[];if(e.isArray(t.options.items))for(var d=0;t.options.items.length>d;d++)if(i=t.options.items[d],-1==t.items.indexOf(i))for(var f=0;t.objects.handlers.length>f;f++)if(t.objects.handlers[f].type==i.type){i.index=a,i.option=!0,i.handler=t.objects.handlers[f],i.handler.defaults(i),n=t.raise("foobox.parseItem",{element:null,item:i}),t.items.array.push(n.fb.item),a++;break}},init:function(e){e=e||!1,t.items.new_array(e),t.element.is(t.options.selector)&&!t.element.is(t.options.excludes)&&t.items.add(t.element)?t.element.unbind("click.item").bind("click.item",t.items.clicked):t.element.find(t.options.selector).not(t.options.excludes).unbind("click.item").filter(function(){return t.items.add(this)}).bind("click.item",t.items.clicked),t.items.rel()},destroy:function(){var o,i;for(i=0;t.items.array.length>i;i++)o=t.items.array[i],e.isFunction(o.destroy)&&o.destroy(),FooBox.isjQuery(o.element)&&o.element.unbind("click.item").removeClass("fbx-link").data("fbx_p_instance",null);t.items.array=[]},rel:function(){var o=t.options.rel||t.element.attr("rel")||(t.items.first(function(e){return"string"==typeof e.element.attr("rel")})||{element:e()}).element.attr("rel");"string"==typeof o&&e('[rel="'+o+'"]').not(t.options.excludes).not(t.element).unbind("click.item").filter(function(){return t.items.add(this)}).bind("click.item",t.items.clicked)},indexOf:function(e,o){if(!e)return-1;o=o||"url";var i;for(i=0;t.items.array.length>i;i++)if(t.items.array[i][o]==e[o])return i;return-1},is:{first:function(e){return t.items.array&&0!=t.items.array.length?t.items.array[0].index==e.index:!1},last:function(e){return t.items.array&&0!=t.items.array.length?t.items.array[t.items.array.length-1].index==e.index:!1}},add:function(o){o=FooBox.isjQuery(o)?o:e(o);var i=t.items.parse(o);if(null===i)return!1;var n=o.get(0),s=t.items.indexOf(i);-1!=s?(i=t.items.array[s],n.index=i.index):n.index=i.index=t.items.array.push(i)-1;var a=o.addClass("fbx-link").data("fbx_p_instance");return a instanceof FooBox.Instance||o.data("fbx_p_instance",t),!0},get:function(o){o=FooBox.isjQuery(o)?o:e(o);var i=null,n=o.get(0).index;return n&&n>0&&t.items.array.length-1>=n&&(i=t.items.array[n]),i},parse:function(o){o=FooBox.isjQuery(o)?o:e(o);for(var i,n,s=0;t.objects.handlers.length>s;s++)if(t.objects.handlers[s].handles(o,t.element)){i=t.objects.handlers[s].parse(o),n=t.raise("foobox.parseItem",{element:o,item:i});break}return n!==undefined&&n.fb.item?n.fb.item:null},error:function(o){function i(o){var t=this;return t.FooBox=o,t.type="error",t.handles=function(){return!1},t.hasChanged=function(){return!1},t.defaults=function(){},t.parse=function(){},t.load=function(o,i,n,s){try{i.empty().append(o.content),e.isFunction(n)&&n(t.getSize(o))}catch(a){e.isFunction(s)&&s(a)}},t.getSize=function(e){return new FooBox.Size(e.width,e.height)},t}if(t.items.array.length>o&&1==t.items.array[o].error)return t.items.array[o];var n,s,a=FooBox.handlers.get(t,"html"),r=!1;if(null==a&&(a=new i(t)),null!==t.options.error.match(/^#/i)&&e(t.options.error).length>0)n=e(t.options.error),r=!0;else{var l=FooBox.format('<div class="fbx-error-msg" data-width="240" data-height="240"><span></span><p>{0}</p></div>',t.options.error);n=e(l)}return s=new FooBox.Item(a.type,n.get(0),a),s.selector=1==r?t.options.error:null,s.index=o,s.error=!0,s.title=n.data("title")||null,s.description=n.data("description")||null,s.width=n.data("width")||240||null,s.height=n.data("height")||240||null,s.content=1==r?null:n,s.fullscreen=!0,s.handler=a,t.items.array[o]=s,s},first:function(e){for(var o=null,i=0;t.items.array.length>i;i++)if(e(t.items.array[i])){o=t.items.array[i];break}return o},current:function(){return t.items.array[t.items.indexes.current]},prev:function(){return t.items.array[t.items.indexes.prev]},next:function(){return t.items.array[t.items.indexes.next]},multiple:function(){return t.items.array.length>1},clicked:function(e){return e.preventDefault(),t.items.indexes.set(this.index),t.modal.show(!0),!1}},this},FooBox.open=function(o){if(1==FooBox.isDeepLink)return null;var t,i=null;if("object"==typeof o){var n=document.createElement("a");e(n).foobox(o),i=e(n).data("fbx_instance")}else"number"==typeof o?t=o:(t=parseInt(o||0),t=isNaN(t)?0:t),t=t>FooBox.instances.length-1?FooBox.instances.length-1:0>t?0:t,i=FooBox.instances[t];return null!=i&&i.modal instanceof FooBox.Modal?(i.modal.show(!0),i):null},FooBox.close=function(){var e,o=[],t=null;for(e=0;FooBox.instances.length>e;e++)t=FooBox.instances[e],null!=t&&t.modal instanceof FooBox.Modal&&FooBox.isjQuery(t.modal.element)&&t.modal.element.hasClass("fbx-show")&&o.push(t);for(e=0;o.length>e;e++)t=o[e],t.modal.close()},FooBox.resize=function(t,i){if(t||i){var n,s,a,r;for(n=0;FooBox.instances.length>n;n++)s=FooBox.instances[n],null!=s&&s.modal instanceof FooBox.Modal&&FooBox.isjQuery(s.modal.element)&&s.modal.element.hasClass("fbx-show")&&(a=s.items.current(),r=new FooBox.Size(t||a.width||0,i||a.height||0),a.width=r.width,a.height=r.height,s.modal.resize(r))}else e(o).trigger("resize.foobox")},FooBox.lateBind=function(t,i){var n=e.extend(!0,{},FooBox.defaults,i||o.FOOBOX&&FOOBOX.o||{}),s=e(t);s.on("click.foobox",n.selector,function(e){e.preventDefault();var o=s.data("fbx_instance");o||(o=s.foobox(n).data("fbx_instance")),o instanceof FooBox.Instance&&"number"==typeof this.index&&(o.items.indexes.set(this.index),o.modal.show(!0))})}}})(jQuery,window,window.console),function(e,o){var t={html:{attr:"href",overflow:!0,fullscreen:!0,sizePadding:20,showCaptions:!1,regex:/^#/i,findSelector:function(e,o){if(!o)return"";var t=o.attr(e.options.html.attr);return"string"==typeof t?o.attr(e.options.html.attr):""}}};o.Item.prototype.content=null,o.Item.prototype.selector=null,o.Item.prototype.padding=null,o.HtmlHandler=function(t){this.FooBox=t,this.type="html",this.regex=/^#/i;var i=this;this.init=function(e){i.handlers.unbind(),e.bind("foobox.close",i.handlers.onClose)},this.destroy=function(){i.handlers.unbind()},this.handlers={unbind:function(){i.FooBox.element.unbind("foobox.close",i.handlers.onClose)},onClose:function(){var t,n;for(t=0;i.FooBox.items.array.length>t;t++)n=i.FooBox.items.array[t],n.type==i.type&&o.isjQuery(n.content)&&0==n.error&&e(n.selector).length>0&&(e(n.selector).append(n.content.children()),n.content=null)}},this.handles=function(o){var t=i.FooBox.options.html.findSelector(i.FooBox,o),n="foobox"===e(o).attr("target")&&"string"==typeof t&&null!=t.match(i.FooBox.options.html.regex)&&(e(t).length>0||1==e(o).data("ajax")),s=i.FooBox.raise("foobox.handlesHtml",{element:o,handle:n});return s.fb.handle},this.defaults=function(e){e.fullscreen=e.fullscreen||i.FooBox.options.html.fullscreen,e.overflow=e.overflow||i.FooBox.options.html.overflow,e.social=e.social||!0,e.proportion=e.proportion||!1,e.captions=e.captions||i.FooBox.options.html.showCaptions},this.parse=function(t){var n=new o.Item(i.type,t,this);i.defaults(n),n.url=n.selector=i.FooBox.options.html.findSelector(i.FooBox,t)||null,n.padding=t.data("padding")||i.FooBox.options.html.sizePadding||0,i.getSize(n);var s=null!=n.selector?e(n.selector):null;return null!=s&&s.length>0?(n.width=s.data("width")||t.data("width")||n.width||null,n.height=s.data("height")||t.data("height")||n.height||null):(n.width=t.data("width")||n.width||null,n.height=t.data("height")||n.height||null),n.overflow="boolean"==typeof t.data("overflow")?t.data("overflow"):n.overflow,n.fullscreen="boolean"==typeof t.data("fullscreen")?t.data("fullscreen"):n.fullscreen,n.proportion="boolean"==typeof t.data("proportion")?t.data("proportion"):n.proportion,n.image_url=t.data("image")||"",n},this.load=function(t,n,s,a){try{var r=e("<div/>").addClass("fbx-item");if(1==t.error?r.addClass("fbx-item-error"):r.addClass("fbx-item-html"),null==t.content&&"string"==typeof t.selector){if(0==e(t.selector).length){var l=i.FooBox.raise("foobox.loadHtml",{container:r,selector:t.selector,success:function(){t.content=l.fb.container,n.empty().append(t.content),e.isFunction(s)&&s(i.getSize(t))},error:function(o){o=o||"Unable to load HTML.",e.isFunction(a)&&a(o)}});return}var d=e(t.selector);d.length>0&&(t.content=r.append(d.children()))}o.isjQuery(t.content)?(n.empty().append(t.content),e.isFunction(s)&&s(i.getSize(t))):e.isFunction(a)&&a("No valid HTML found to display.")}catch(f){e.isFunction(a)&&a(f)}},this.preload=function(){},this.getCSS=function(e){return{font:e.css("font"),padding:e.css("padding"),margin:e.css("margin"),border:e.css("border")}},this.getSize=function(t){if((null==t.width||null==t.height||0==t.width||0==t.height)&&"string"==typeof t.selector){var n,s;if("string"==typeof t.selector&&e(t.selector).length>0){var a=e(t.selector);s=i.getCSS(a),n=a.clone().css(s)}else o.isjQuery(t.content)&&(s=i.getCSS(t.content),n=t.content.clone().css(s));o.isjQuery(n)&&(n.css({position:"absolute",visibility:"hidden",display:"block",top:-1e4,left:-1e4}).appendTo("body"),"number"==typeof t.width&&t.width>0?n.width(t.width):t.width=n.outerWidth(!0)+t.padding,t.height="number"==typeof t.height&&t.height>0?t.height:n.outerHeight(!0)+t.padding,n.remove())}return null!=t.width&&null!=t.height?new o.Size(t.width,t.height):new o.Size(0,0)},this.hasChanged=function(){return!1}},o.handlers.register(o.HtmlHandler,t)}(jQuery,window.FooBox),function(e,o){var t={iframe:{attr:"href",fullscreen:!0,showCaptions:!1,showImmediate:!1,allowFullscreen:!1,regex:/^https?/i,exclude:/(youtube(-nocookie)?\.com\/(watch|v|embed)|youtu\.be|vimeo\.com|\.(jpg|jpeg|png|gif|bmp))/i,findUrl:function(e,t){if(!t)return"";
var i=t.attr(e.options.iframe.attr);return"string"==typeof i?o.qualifiedURL(t.attr(e.options.iframe.attr)):""}}};o.IframeHandler=function(t){this.FooBox=t,this.type="iframe";var i=this;this.handles=function(o){var t=i.FooBox.options.iframe.findUrl(i.FooBox,o),n="foobox"===e(o).attr("target")&&"string"==typeof t&&null!=t.match(i.FooBox.options.iframe.regex)&&!t.match(i.FooBox.options.iframe.exclude),s=i.FooBox.raise("foobox.handlesIframe",{element:o,handle:n});return s.fb.handle},this.defaults=function(e){e.fullscreen=e.fullscreen||i.FooBox.options.iframe.fullscreen,e.overflow=e.overflow||!1,e.social=e.social||!0,e.proportion=e.proportion||!1,e.captions=e.captions||i.FooBox.options.iframe.showCaptions},this.parse=function(e){var t=new o.Item(i.type,e,this);return i.defaults(t),t.url=i.FooBox.options.iframe.findUrl(i.FooBox,e)||null,t.width=e.data("width")||t.width||null,t.height=e.data("height")||t.height||null,t.overflow="boolean"==typeof e.data("overflow")?e.data("overflow"):t.overflow,t.fullscreen="boolean"==typeof e.data("fullscreen")?e.data("fullscreen"):t.fullscreen,t.proportion="boolean"==typeof e.data("proportion")?e.data("proportion"):t.proportion,t.image_url=e.data("image")||"",t},this.load=function(o,t,n,s){try{var a=i.getSize(o),r=e('<iframe framborder="0" allowfullscreen />').addClass("fbx-item fbx-item-iframe").css({width:a.width,height:a.height});i.FooBox.options.iframe.allowFullscreen&&o.fullscreen&&r.attr("allowfullscreen",""),t.empty().append(r),i.FooBox.options.iframe.showImmediate?(r.attr("src",o.url),e.isFunction(n)&&n(a)):r.one("load",function(){e.isFunction(n)&&n(a)}).attr("src",o.url)}catch(l){e.isFunction(s)&&s(l)}},this.preload=function(){},this.getSize=function(e){return(e.auto||null==e.width||0==e.width||null==e.height||0==e.height)&&(e.auto=e.auto||{width:!1,height:!1},(1==e.auto.width||null==e.width||0==e.width)&&(e.auto.width=!0,e.width=.8*(window.innerWidth||document.documentElement.clientWidth||(document.body?document.body.offsetWidth:0))),(1==e.auto.height||null==e.height||0==e.height)&&(e.auto.height=!0,e.height=.8*(window.innerHeight||document.documentElement.clientHeight||(document.body?document.body.offsetHeight:0)))),null!=e.width&&null!=e.height?new o.Size(e.width,e.height):new o.Size(0,0)},this.hasChanged=function(){return!1}},o.handlers.register(o.IframeHandler,t)}(jQuery,window.FooBox),function(e,o){var t={images:{noRightClick:!1,attr:"href",overflow:!1,fullscreen:!0,showCaptions:!0,regex:/\.(jpg|jpeg|png|gif|bmp)/i,maxWidth:-1,maxHeight:-1,findUrl:function(e,t){if(!t)return"";if(t.data("image"))return t.data("image");var i=t.attr(e.options.images.attr);return"string"==typeof i?o.qualifiedURL(t.attr(e.options.images.attr)):""}}};o.Item.prototype.image=null,o.Item.prototype.maxWidth=null,o.Item.prototype.maxHeight=null,o.ImageHandler=function(t){this.FooBox=t,this.type="image";var i=this;this.handles=function(e){var o=i.FooBox.options.images.findUrl(i.FooBox,e),t="string"==typeof o&&null!=o.match(i.FooBox.options.images.regex),n=i.FooBox.raise("foobox.handlesImage",{element:e,handle:t});return n.fb.handle},this.defaults=function(e){e.fullscreen=e.fullscreen||i.FooBox.options.images.fullscreen,e.captions=e.captions||i.FooBox.options.images.showCaptions,e.social=e.social||!0,e.overflow=e.overflow||i.FooBox.options.images.overflow,e.proportion=e.proportion||!0,e.maxWidth=e.maxWidth||i.FooBox.options.images.maxWidth,e.maxHeight=e.maxHeight||i.FooBox.options.images.maxHeight},this.parse=function(e){var t=new o.Item(i.type,e,this);return i.defaults(t),t.url=i.FooBox.options.images.findUrl(i.FooBox,e)||null,t.width=e.data("width")||t.width||null,t.height=e.data("height")||t.height||null,t.fullscreen="boolean"==typeof e.data("fullscreen")?e.data("fullscreen"):t.fullscreen,t.overflow="boolean"==typeof e.data("overflow")?e.data("overflow"):t.overflow,t.proportion="boolean"==typeof e.data("proportion")?e.data("proportion"):t.proportion,t.maxWidth="number"==typeof e.data("maxWidth")?e.data("maxWidth"):t.maxWidth,t.maxHeight="number"==typeof e.data("maxHeight")?e.data("maxHeight"):t.maxHeight,t.image=null,t.image_url=t.url,t},this.load=function(o,t,n,s){try{var a=function(){var s=e(o.image).addClass("fbx-item fbx-item-image");i.FooBox.options.images.noRightClick&&s.bind("contextmenu",function(e){return e.preventDefault(),!1}),t.empty().append(s),e.isFunction(n)&&n(i.getSize(o))};o.image&&null!==o.image?a():(o.image=new Image,o.image.onload=function(){o.image.onload=o.image.onerror=null,o.height=o.image.height,o.width=o.image.width,a()},o.image.onerror=function(){o.image.onload=o.image.onerror=null,o.image=null,e.isFunction(s)&&s("An error occurred attempting to load the image.")},o.image.src=o.url)}catch(r){e.isFunction(s)&&s(r)}},this.preload=function(e){if(1!=e.preloaded){var o=new Image;o.src=e.url,e.preloaded=!0}},this.getSize=function(e){if(null!=e.width&&null!=e.height){if(e.maxWidth>0&&e.maxHeight>0&&(e.width>e.maxWidth||e.height>e.maxHeight)){var t=e.width>e.height?e.maxWidth/e.width:e.maxHeight/e.height;e.width*=t,e.height*=t}return new o.Size(e.width,e.height)}return new o.Size(0,0)},this.hasChanged=function(e){if(o.isjQuery(e.element)){var t=i.FooBox.options.images.findUrl(i.FooBox,e.element);return e.url!=t}return!1}},o.handlers.register(o.ImageHandler,t)}(jQuery,window.FooBox),function(e,o){var t={videos:{attr:"href",fullscreen:!0,regex:/(youtube(-nocookie)?\.com\/(watch|v|embed)|youtu\.be|vimeo\.com|\.mp4|\.ogv|\.wmv|\.webm|(.+)?(wistia\.(com|net)|wi\.st)\/.*|(www.)?dailymotion\.com|dai\.ly)/i,findUrl:function(e,t){if(!t)return"";var i=t.attr(e.options.videos.attr);return"string"==typeof i?o.qualifiedURL(t.attr(e.options.videos.attr)):""},autoPlay:!1,defaultWidth:640,defaultHeight:385,showCaptions:!1,showImmediate:!1}};o.Item.prototype.video_url=null,o.Item.prototype.image_url=null,o.Item.prototype.mimeType=null,o.Item.prototype.player=null,o.Item.prototype.$player=null,o.VideoUrl=function(t,i){if(!(this instanceof o.VideoUrl))return new o.VideoUrl(t);this.autoPlay=i;var n=t.split("#");this.hash=2==n.length?"#"+n[1]:"",n=n[0].split("?"),this.url=n[0];var s=this.url.match(/.*\/(.*)$/);this.id=s&&s.length>=2?s[1]:null,this.protocol="https"==t.substring(0,5)?"https:":"http:",this.params=[];for(var a,r=(2==n.length?n[1]:"").split(/[&;]/g),l=0,d=r.length;d>l;l++)a=r[l].split("="),2==a.length&&this.params.push({key:decodeURIComponent(a[0]),value:decodeURIComponent(a[1])});this.mimeTypes={"video/youtube":/(www.)?youtube|youtu\.be/i,"video/vimeo":/(player.)?vimeo\.com/i,"video/wistia":/(.+)?(wistia\.(com|net)|wi\.st)\/.*/i,"video/daily":/(www.)?dailymotion\.com|dai\.ly/i,"video/mp4":/\.mp4/i,"video/webm":/\.webm/i,"video/wmv":/\.wmv/i,"video/ogg":/\.ogv/i},this.mimeType=null;for(var f in this.mimeTypes)this.mimeTypes.hasOwnProperty(f)&&this.mimeTypes[f].test(t)&&(this.mimeType=f);var c=navigator.userAgent.toLowerCase(),u=c.indexOf("msie ")>-1||c.indexOf("trident/")>-1||c.indexOf("edge/")>-1,h=!document.addEventListener;if(this.isDirectLink=-1!==e.inArray(this.mimeType,["video/mp4","video/wmv","video/ogg","video/webm"]),this.isBrowserSupported=-1!==e.inArray(this.mimeType,u?h?[]:["video/mp4","video/wmv"]:["video/mp4","video/ogg","video/webm"]),"video/youtube"==this.mimeType)this.id=/embed\//i.test(this.url)?this.url.split(/embed\//i)[1].split(/[?&]/)[0]:t.split(/v\/|v=|youtu\.be\//i)[1].split(/[?&]/)[0],this.url=this.protocol+"//www.youtube.com/embed/"+this.id,this.autoPlay&&this.param("autoplay","1"),this.param("modestbranding","1"),this.param("rel","0"),this.param("wmode","transparent"),this.param("showinfo","0");else if("video/vimeo"==this.mimeType)this.id=this.url.substr(this.url.lastIndexOf("/")+1),this.url=this.protocol+"//player.vimeo.com/video/"+this.id,this.autoPlay&&this.param("autoplay","1"),this.param("badge","0"),this.param("portrait","0");else if("video/wistia"==this.mimeType){this.id=/embed\//i.test(this.url)?this.url.split(/embed\/.*?\//i)[1].split(/[?&]/)[0]:this.url.split(/medias\//)[1].split(/[?&]/)[0];var m=/playlists\//i.test(this.url);this.url=this.protocol+"//fast.wistia.net/embed/"+(m?"playlists":"iframe")+"/"+this.id,this.autoPlay&&(m?this.param("media_0_0[autoPlay]","1"):this.param("autoPlay","1")),this.param("theme","")}else"video/daily"==this.mimeType&&(this.id=/\/video\//i.test(this.url)?this.url.split(/\/video\//i)[1].split(/[?&]/)[0].split(/[_]/)[0]:t.split(/dai\.ly/i)[1].split(/[?&]/)[0],this.url=this.protocol+"//www.dailymotion.com/embed/video/"+this.id,this.autoPlay&&this.param("autoplay","1"),this.param("wmode","opaque"),this.param("info","0"),this.param("logo","0"),this.param("related","0"))},o.VideoUrl.prototype.param=function(e,o){for(var t=o===void 0,i="string"==typeof o&&""===o,n=this.params.length;n-->0;)if(this.params[n].key==e)return t?this.params[n].value:(i?this.params.splice(n,1):this.params[n].value=o,void 0);t||i||this.params.push({key:e,value:o})},o.VideoUrl.prototype.toString=function(){for(var e=this.params.length>0?"?":"",o=0,t=this.params.length;t>o;o++)0!=o&&(e+="&"),e+=encodeURIComponent(this.params[o].key)+"="+encodeURIComponent(this.params[o].value);return this.url+e+this.hash},o.VideoHandler=function(t){this.FooBox=t,this.type="video",this.hasMediaElement="MediaElementPlayer"in window;var i=this;this.handles=function(e){var o=i.FooBox.options.videos.findUrl(i.FooBox,e),t="string"==typeof o&&null!=o.match(i.FooBox.options.videos.regex),n=i.FooBox.raise("foobox.handlesVideo",{element:e,handle:t});return n.fb.handle},this.defaults=function(e){e.width=e.width||i.FooBox.options.videos.defaultWidth,e.height=e.height||i.FooBox.options.videos.defaultHeight,e.fullscreen=e.fullscreen||i.FooBox.options.videos.fullscreen,e.social=e.social||!0,e.captions=e.captions||i.FooBox.options.videos.showCaptions,e.proportion=e.proportion||!0},this.parse=function(t){var n=new o.Item(i.type,t,this);if(i.defaults(n),n.url=i.FooBox.options.videos.findUrl(i.FooBox,t)||null,n.width=t.data("width")||n.width||null,n.height=t.data("height")||n.height||null,n.image_url=t.data("image")||t.find("img").attr("src")||null,n.fullscreen="boolean"==typeof t.data("fullscreen")?t.data("fullscreen"):n.fullscreen,n.proportion="boolean"==typeof t.data("proportion")?t.data("proportion"):n.proportion,n.video_url=[],null!==n.url){n.video_url=decodeURI(n.url).split(",");for(var s=0,a=n.video_url.length;a>s;s++)n.video_url[s]=new o.VideoUrl(e.trim(n.video_url[s]),i.FooBox.options.videos.autoPlay)}return n},this.isDirectLink=function(e){if(!document.addEventListener)return!1;for(var o=0,t=e.video_url.length;t>o;o++)if(e.video_url[o].isDirectLink&&e.video_url[o].isBrowserSupported)return!0;return!1},this.load=function(o,t,n,s){function a(){e.isFunction(s)&&s("The video ["+o.url+"] is not supported")}function r(){u.removeEventListener("loadeddata",r,!1),u.removeEventListener("error",a,!1),u.play(),e.isFunction(n)&&n(i.getSize(o))}try{var l,d,f,c;if(this.isDirectLink(o)){for(l=e("<div/>",{"class":"fbx-item fbx-item-video"}),d=e("<video/>",{"class":"fbx-video",width:o.width,height:o.height,controls:!0,preload:!1}).css({width:"100%",height:"100%"}),f=0,c=o.video_url.length;c>f;f++)d.append(e("<source/>",{type:o.video_url[f].mimeType,src:""+o.video_url[f]}));if(document.addEventListener){var u=d[0];u.addEventListener("error",a,!1),u.addEventListener("loadeddata",r,!1),t.empty().append(l.append(d)),4>u.readyState?u.load():r()}}else if(1!==o.video_url.length||o.video_url[0].isDirectLink)e.isFunction(s)&&s("The video ["+o.url+"] is not supported");else{var h=e('<iframe style="width:100%; height:100%" frameborder="no" allowfullscreen />').addClass("fbx-item fbx-item-video"),m=i.getSize(o);t.empty().append(h),i.FooBox.options.videos.showImmediate?(h.attr("src",""+o.video_url[0]),e.isFunction(n)&&n(m)):h.one("load",function(){e.isFunction(n)&&n(m)}).attr("src",""+o.video_url[0])}}catch(p){e.isFunction(s)&&s(p)}},this.preload=function(){},this.getSize=function(e){return(null==e.width||null==e.height)&&(e.width=i.FooBox.options.videos.defaultWidth,e.height=i.FooBox.options.videos.defaultHeight),null!=e.width&&null!=e.height?new o.Size(e.width,e.height):new o.Size(0,0)},this.hasChanged=function(){return!1},this.getUrlVar=function(e,o){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=RegExp("[\\?&]"+e+"=([^&#]*)"),i=t.exec(o);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))},this.appendUrlVar=function(e,o){var t=-1!==o.indexOf("?")?"&":"?";return o+t+e}},o.handlers.register(o.VideoHandler,t)}(jQuery,window.FooBox),function(e,o){var t={captions:{animation:"slide",enabled:!0,descSource:"find",hoverDelay:300,maxHeight:.4,onlyShowOnHover:!1,onlyShowOnClick:!1,overrideDesc:!1,overrideTitle:!1,prettify:!1,titleSource:"image_find"}};o.Item.prototype.captions=!1,o.Item.prototype.title=null,o.Item.prototype.description=null,o.Item.prototype.caption=null,o.Captions=function(t){this.FooBox=t,this.timers={hover:new o.Timer};var i=this;this.preinit=function(e){i.handlers.unbind(!0),e.bind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupHtml":i.handlers.setupHtml,"foobox.setupOptions":i.handlers.setupOptions,"foobox.parseItem":i.handlers.parseItem,"foobox.onError":i.handlers.onError})},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&i.FooBox.element.unbind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupHtml":i.handlers.setupHtml,"foobox.setupOptions":i.handlers.setupOptions,"foobox.parseItem":i.handlers.parseItem,"foobox.onError":i.handlers.onError}),i.FooBox.element.unbind({"foobox.beforeLoad":i.handlers.beforeLoad,"foobox.afterLoad":i.handlers.afterLoad,"foobox.closeOverlays":i.handlers.closeOverlays}),i.FooBox.modal instanceof o.Modal&&o.isjQuery(i.FooBox.modal.element)&&i.FooBox.modal.element.undelegate("mouseenter.captions mouseleave.captions").find(".fbx-item-current, .fbx-item-next").unbind("click.captions")},initialized:function(e){i.handlers.unbind(),e.fb.options.captions.enabled===!0&&(e.fb.instance.element.bind({"foobox.beforeLoad":i.handlers.beforeLoad,"foobox.afterLoad":i.handlers.afterLoad,"foobox.closeOverlays":i.handlers.closeOverlays}),e.fb.modal.find(".fbx-item-current, .fbx-item-next").bind("click.captions",i.handlers.toggleCaptions),e.fb.options.captions.onlyShowOnHover===!0&&e.fb.modal.delegate(".fbx-inner:not(:has(.fbx-item-error))","mouseenter.captions",i.handlers.mouseenter).delegate(".fbx-inner:not(:has(.fbx-item-error))","mouseleave.captions",i.handlers.mouseleave))},closeOverlays:function(e){e.fb.modal.addClass("fbx-captions-hidden"),i.hide()},toggleCaptions:function(){return i.FooBox.modal.element.hasClass("fbx-error")?!0:(i.FooBox.modal.element.find(".fbx-caption").is(":visible")?(i.FooBox.modal.element.addClass("fbx-captions-hidden"),i.hide()):(i.FooBox.modal.element.removeClass("fbx-captions-hidden"),i.show()),!0)},mouseenter:function(){i.timers.hover.start(function(){i.show()},i.FooBox.options.captions.hoverDelay)},mouseleave:function(){i.timers.hover.start(function(){i.hide()},i.FooBox.options.captions.hoverDelay)},setupHtml:function(e){"string"==typeof e.fb.options.modalClass&&-1!=e.fb.options.modalClass.indexOf("fbx-sticky-caption")?e.fb.modal.append('<div class="fbx-caption"></div>'):e.fb.modal.find(".fbx-stage").append('<div class="fbx-caption"></div>')},setupOptions:function(e){var o=e.fb.options.captions.enabled&&!e.fb.options.captions.onlyShowOnHover?"":"none";e.fb.modal.find(".fbx-caption").css("display",o)},beforeLoad:function(e){1!=e.fb.options.captions.onlyShowOnHover&&e.fb.modal.find(".fbx-caption").css("display","none")},afterLoad:function(e){var o=e.fb.item;return!o||o.error||o.captionLoaded||(e.fb.instance.raise("foobox.alterCaption",{element:e.fb.element,item:o}),o.captionLoaded=!0),1==e.fb.options.captions.onlyShowOnHover?(i.update(),void 0):(0==e.fb.options.captions.onlyShowOnClick&&i.show(),void 0)},onError:function(e){e.fb.modal.find(".fbx-caption").css("display","none")},parseItem:function(t){var n=t.fb.options.captions;if(t.fb.item.captions&&0!=n.enabled){var s,a,r="";if(null!=t.fb.element){var l=e(t.fb.element).data("titleSource")||e(t.fb.instance.element).data("titleSource")||n.titleSource,d=e(t.fb.element).data("descSource")||e(t.fb.instance.element).data("descSource")||n.descSource;s=t.fb.element.data("captionTitle")||i.text(t.fb.element,l),a=t.fb.element.data("captionDesc")||i.text(t.fb.element,d)}else s=t.fb.item.title,a=t.fb.item.description;s+="",a+="",s&&s==a&&(a=null),r="string"==typeof s&&s.length>0?o.format('<div class="fbx-caption-title">{0}</div>',s):r,r="string"==typeof a&&a.length>0?r+o.format('<div class="fbx-caption-desc">{0}</div>',a):r,t.fb.item.title=s,t.fb.item.description=a,t.fb.item.caption=r,t.fb.instance.raise("foobox.createCaption",{element:t.fb.element,item:t.fb.item})}}},this.text=function(o,t){var n;switch(t){case"find":n=e.trim(o.attr("title")||o.data("title")||o.find("img:first").attr("title")||o.find("img:first").attr("alt")||o.find("img:first").data("title")||o.find("img:first").data("alt"));break;case"image_find":n=e.trim(o.find("img:first").attr("title")||o.find("img:first").attr("alt")||o.find("img:first").data("title")||o.find("img:first").data("alt"));break;case"image":n=e.trim(o.find("img:first").attr("title")||o.find("img:first").data("title"));break;case"image_alt":n=e.trim(o.find("img:first").attr("alt")||o.find("img:first").data("alt"));break;case"anchor":n=e.trim(o.attr("title")||o.data("title"));break;default:n=null}return i.FooBox.options.captions.prettify&&(n=i.prettifier(n)),n},this.hide=function(){var e=i.FooBox.items.current(),o=i.FooBox.modal.element.find(".fbx-caption");if(!i.FooBox.options.captions.enabled||!e.captions||"string"!=typeof e.caption||0==e.caption.length)return o.css("display","none"),void 0;switch(i.FooBox.options.captions.animation){case"fade":o.stop(!0,!0).fadeOut(400);break;case"slide":o.stop(!0,!0).slideUp(400);break;default:o.css("display","none")}},this.show=function(){var e=i.FooBox,t=e.items.current(),n=e.modal.element.find(".fbx-caption");if(!e.options.captions.enabled||!t.captions||"string"!=typeof t.caption||0==t.caption.length||e.modal.element.hasClass("fbx-captions-hidden")||o.isjQuery(t.element)&&t.element.hasClass("no-captions"))return n.css("display","none"),void 0;switch(i.update(),e.options.captions.animation){case"fade":n.stop(!0,!0).fadeIn(500);break;case"slide":n.stop(!0,!0).slideDown(500);break;default:n.css("display","")}},this.update=function(){var t=i.FooBox.items.current(),n=i.FooBox.modal.element.find(".fbx-caption");n.html(t.caption).find('a[href^="#"]').filter(function(){var t=e(this).attr("href"),i=e(t),n=i.data("fbx_instance")||i.data("fbx_p_instance");return i.length>0&&n instanceof o.Instance?(e(this).data("hrefTarget",i.get(0)),!0):!1}).unbind("click.captions").bind("click.captions",function(t){t.preventDefault();var n=e(this).data("hrefTarget"),s=e(n).data("fbx_instance")||e(n).data("fbx_p_instance");return s instanceof o.Instance&&(i.FooBox.modal.close(),s.items.indexes.set(n.index),s.modal.show()),!1}),e('<a href="#close_overlays" class="fbx-close-overlays">&times;</a>').bind("click.captions",function(e){return e.preventDefault(),i.FooBox.raise("foobox.closeOverlays"),!1}).prependTo(n)},this.prettifier=function(e){return"string"!=typeof e?null:(e=e.replace(/\s*-\d+/g,"").replace(/\s*_\d+/g,"").replace(/-/g," ").replace(/_/g," "),e=e.replace(/\w\S*/g,function(e){return-1!=e.indexOf("#")?e:e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}},o.addons.register(o.Captions,t)}(jQuery,window.FooBox),function(e,o){var t={deeplinking:{enabled:!0,prefix:"foobox"}};o.Item.prototype.deeplink=null,o.isDeepLink=!1,o.hashBang="#",o.DeepLinking=function(t){this.FooBox=t,this.timers={display:new o.Timer};var i=this;this.preinit=function(e){i.handlers.unbind(!0),e.bind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.parseItem":i.handlers.parseItem})},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&i.FooBox.element.unbind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.parseItem":i.handlers.parseItem}),i.FooBox.element.unbind({"foobox.afterLoad":i.handlers.afterLoad,"foobox.close":i.handlers.close})},initialized:function(e){if(i.handlers.unbind(),e.fb.options.deeplinking.enabled===!0){e.fb.instance.element.bind({"foobox.afterLoad":i.handlers.afterLoad,"foobox.close":i.handlers.close});var t=i.hash.get();if(t&&i.FooBox.id==t.id){var n=i.FooBox.items.array[t.index];if(!n)return;o.isDeepLink=!0,i.FooBox.raise("foobox.hasHash",{item:n}),i.timers.display.start(function(){i.FooBox.items.indexes.set(n.index),i.FooBox.modal.show(!0)},100)}}},parseItem:function(e){if(1==e.fb.options.deeplinking.enabled)switch(e.fb.item.type){case"image":e.fb.item.url.match(/.*\/(.*)$/)&&(e.fb.item.deeplink=e.fb.item.url.match(/.*\/(.*)$/)[1]);break;case"html":e.fb.item.deeplink=e.fb.item.selector.replace(o.hashBang,"");break;case"video":e.fb.item.video_url.length>0&&(e.fb.item.deeplink=e.fb.item.video_url[0].id)}},afterLoad:function(){i.hash.set()},close:function(){i.hash.clear()}},this.hash={get:function(){if(-1===location.hash.indexOf(o.hashBang+i.FooBox.options.deeplinking.prefix))return null;var t=location.hash;if("/"==t.substr(-1)&&(t=t.substr(0,t.length-1)),!/\/([^\/]+)\/?([^\/]+)?$/.test(t))return null;var n=t.match(/\/([^\/]+)\/?([^\/]+)?$/),s=n[1],a=n[2],r=-1;"string"==typeof a&&e.each(i.FooBox.items.array,function(e,o){return o.deeplink&&o.deeplink===a?(r=e,!1):!0}),-1==r&&(r=s);var l=t.substring(0,t.indexOf("/"));return l=l.replace(o.hashBang+i.FooBox.options.deeplinking.prefix+"-",""),{id:l,index:r}},set:function(){var e=i.FooBox.items.current(),t=i.FooBox.options.deeplinking.prefix+"-"+i.FooBox.id+"/"+e.index,n=e.deeplink;n&&(t+="/"+n);var s=(""+window.location).split(o.hashBang)[0]+o.hashBang+t;window.history&&window.history.replaceState?window.history.replaceState(null,document.title,s):window.location.replace(s)},clear:function(){if(window.history&&window.history.replaceState){var e=window.location.pathname;e+="string"==typeof window.location.search&&""!==window.location.search?"?"===window.location.search.substring(0,1)?window.location.search:"?"+window.location.search:"",window.history.replaceState(null,document.title,e)}else window.location.replace((""+window.location).split(o.hashBang)[0]+o.hashBang+"/")}}},o.addons.register(o.DeepLinking,t)}(jQuery,window.FooBox),function(e,o){o.Events=function(t){this.FooBox=t;var i=this;this.preinit=function(e){i.handlers.unbind(),e.bind({"foobox.afterLoad":i.handlers.foobox_image_onload,"foobox.beforeLoad":i.handlers.foobox_image_custom_caption})},this.destroy=function(){i.handlers.unbind()},this.raise=function(o,t){t=t||{};var n=e.Event(o);return e.extend(!0,n,t),i.FooBox.element.trigger(n),n},this.handlers={unbind:function(){i.FooBox.element.unbind({"foobox.afterLoad":i.handlers.foobox_image_onload,"foobox.beforeLoad":i.handlers.foobox_image_custom_caption})},foobox_image_onload:function(e){"image"==e.fb.item.type&&i.raise("foobox_image_onload",{thumb:{jq:e.fb.item.element,target:e.fb.item.url}})},foobox_image_custom_caption:function(e){var t=i.raise("foobox_image_custom_caption",{thumb:e.fb.item.element,title:e.fb.item.title,desc:e.fb.item.description,handled:!1});if(1==t.handled){e.fb.item.title=t.title,e.fb.item.description=t.desc;var n="string"==typeof e.fb.item.title&&e.fb.item.title.length>0?o.format('<div class="fbx-caption-title">{0}</div>',e.fb.item.title):"";n="string"==typeof e.fb.item.description&&e.fb.item.description.length>0?n+o.format('<div class="fbx-caption-desc">{0}</div>',e.fb.item.description):n,e.fb.item.caption=n}}}},o.addons.register(o.Events)}(jQuery,window.FooBox),function(e,o){var t={fullscreen:{enabled:!1,force:!1,useAPI:!0}};o.Item.prototype.fullscreen=!1,o.Fullscreen=function(t){this.FooBox=t;var i=this;this.preinit=function(e){i.handlers.unbind(!0),e.bind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupHtml":i.handlers.setupHtml,"foobox.setupOptions":i.handlers.setupOptions})},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(t){t=t||!1,t&&i.FooBox.element.unbind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupHtml":i.handlers.setupHtml,"foobox.setupOptions":i.handlers.setupOptions}),i.FooBox.element.unbind({"foobox.afterShow":i.handlers.afterShow,"foobox.beforeLoad":i.handlers.beforeLoad,"foobox.keydown":i.handlers.onKeydown,"foobox.close":i.handlers.onClose}),i.FooBox.modal instanceof o.Modal&&o.isjQuery(i.FooBox.modal.element)&&i.FooBox.modal.element.find(".fbx-fullscreen-toggle").unbind("click.fullscreen",i.handlers.onClick),e(document).unbind("webkitfullscreenchange mozfullscreenchange fullscreenchange",i.handlers.onFullscreenChange).bind("webkitfullscreenchange mozfullscreenchange fullscreenchange",i.handlers.onFullscreenChange)},initialized:function(e){i.handlers.unbind(),e.fb.options.fullscreen.enabled="boolean"==typeof e.fb.instance.element.data("fullscreenEnabled")?e.fb.instance.element.data("fullscreenEnabled"):e.fb.options.fullscreen.enabled,e.fb.options.fullscreen.force="boolean"==typeof e.fb.instance.element.data("fullscreenForce")?e.fb.instance.element.data("fullscreenForce"):e.fb.options.fullscreen.force,e.fb.options.fullscreen.useAPI="boolean"==typeof e.fb.instance.element.data("fullscreenAPI")?e.fb.instance.element.data("fullscreenAPI"):e.fb.options.fullscreen.useAPI,e.fb.options.fullscreen.enabled===!0&&(e.fb.instance.element.bind({"foobox.beforeLoad":i.handlers.beforeLoad,"foobox.afterShow":i.handlers.afterShow,"foobox.afterResize":i.handlers.afterResize,"foobox.keydown":i.handlers.onKeydown,"foobox.close":i.handlers.onClose}),e.fb.modal.find(".fbx-fullscreen-toggle").bind("click.fullscreen",i.handlers.onClick))},setupHtml:function(e){e.fb.modal.find(".fbx-inner").append('<a href="#fullscreen" class="fbx-fullscreen-toggle fbx-btn-transition fbx-btn-shadow"></a>')},setupOptions:function(e){1==e.fb.options.fullscreen.enabled?e.fb.modal.addClass("fbx-fullscreen"):e.fb.modal.removeClass("fbx-fullscreen"),1==e.fb.options.fullscreen.force&&e.fb.modal.find(".fbx-fullscreen-toggle").hide()},afterShow:function(e){e.fb.options.fullscreen.force!==!0||e.fb.modal.hasClass("fbx-phone")||(i.FooBox.modal.element.addClass("fbx-fullscreen").find(".fbx-fullscreen-toggle").hide(),e.fb.modal.hasClass("fbx-fullscreen-mode")||i.fullscreen.launch())},afterResize:function(e){e.fb.modal.hasClass("fbx-phone")?(e.fb.modal.removeClass("fbx-fullscreen").find(".fbx-fullscreen-toggle").hide(),e.fb.modal.hasClass("fbx-fullscreen-mode")&&i.fullscreen.cancel()):e.fb.options.fullscreen.force===!0?(i.FooBox.modal.element.addClass("fbx-fullscreen").find(".fbx-fullscreen-toggle").hide(),e.fb.modal.hasClass("fbx-fullscreen-mode")||i.fullscreen.launch()):e.fb.modal.addClass("fbx-fullscreen").find(".fbx-fullscreen-toggle").show()},beforeLoad:function(e){if(e.fb.modal.hasClass("fbx-fullscreen-mode")&&1!=e.fb.item.fullscreen)switch(e.preventDefault(),e.fb.instance.items.indexes.direction){case"<":e.fb.instance.modal.prev();break;default:e.fb.instance.modal.next()}else 1!=e.fb.item.fullscreen||e.fb.modal.hasClass("fbx-phone")?e.fb.modal.removeClass("fbx-fullscreen").find(".fbx-fullscreen-toggle").hide():e.fb.options.fullscreen.force===!0?e.fb.modal.find(".fbx-fullscreen-toggle").hide():e.fb.modal.addClass("fbx-fullscreen").find(".fbx-fullscreen-toggle").show()},onClick:function(e){return e.preventDefault(),i.FooBox.modal.element.hasClass("fbx-fullscreen-mode")?i.fullscreen.cancel():i.fullscreen.launch(),!1},onClose:function(){i.fullscreen.cancel()},onKeydown:function(e){e.fb.modal.hasClass("fbx-fullscreen-mode")&&27==e.fb.keyCode&&(i.fullscreen.cancel(),1==e.fb.options.fullscreen.force&&e.fb.instance.modal.close())},onFullscreenChange:function(){document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?i.fullscreen.apply():i.fullscreen.remove()}},this.fullscreen={launch:function(){if(1!=i.FooBox.options.fullscreen.useAPI||0!=i.FooBox.options.fullscreen.force||o.browser.isSafari&&o.browser.Mac)i.fullscreen.apply();else{var e=i.FooBox.modal.element.get(0);e.requestFullScreen?e.requestFullScreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():i.fullscreen.apply()}},cancel:function(){i.FooBox.modal.element.hasClass("fbx-fullscreen-mode")&&(1!=i.FooBox.options.fullscreen.useAPI||0!=i.FooBox.options.fullscreen.force||o.browser.isSafari&&o.browser.Mac?i.fullscreen.remove():document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():i.fullscreen.remove())},apply:function(){var e=i.FooBox.items.current();e&&(i.FooBox.modal.element.addClass("fbx-fullscreen-mode"),i.FooBox.modal.resize(e.handler.getSize(e))),i.FooBox.raise("foobox.fullscreenEnabled")},remove:function(){var e=i.FooBox.items.current();e&&(i.FooBox.modal.element.removeClass("fbx-fullscreen-mode"),i.FooBox.modal.resize(e.handler.getSize(e))),i.FooBox.raise("foobox.fullscreenDisabled")}}},o.addons.register(o.Fullscreen,t)}(jQuery,window.FooBox),function(e,o){var t={effect:null};o.FX=function(t){this.FooBox=t;var i=this;this.preinit=function(e){i.handlers.unbind(!0),e.bind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupOptions":i.handlers.setupOptions})},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&i.FooBox.element.unbind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupOptions":i.handlers.setupOptions}),i.FooBox.element.unbind({"foobox.afterResize":i.handlers.afterResize,"foobox.beforeShow":i.handlers.beforeShow,"foobox.beforeClose":i.handlers.beforeClose})},initialized:function(e){i.handlers.unbind(),o.browser.supportsTransitions()&&"string"==typeof i.FooBox.options.effect&&e.fb.instance.element.bind({"foobox.afterResize":i.handlers.afterResize,"foobox.beforeShow":i.handlers.beforeShow,"foobox.beforeClose":i.handlers.beforeClose})},setupOptions:function(e){i.FooBox.element.data("effect")&&(i.FooBox.options.effect=i.FooBox.element.data("effect")),o.browser.supportsTransitions()&&"string"==typeof i.FooBox.options.effect&&e.fb.modal.addClass("fbx-effects").addClass(e.fb.options.effect)},afterResize:function(o){var t=e(".fbx-inner",o.fb.modal),i=o.fb.modal.hasClass("fbx-sticky-buttons"),n=o.fb.modal.hasClass("fbx-sticky-caption"),s=o.fb.modal.hasClass("fbx-phone"),a=o.fb.modal.hasClass("fbx-fullscreen-mode");i||s||a?(s||a?(o.fb.modal.find(".fbx-close").insertAfter(t),o.fb.modal.find(".fbx-play,.fbx-pause").insertAfter(t),o.fb.modal.find(".fbx-fullscreen-toggle").insertBefore(t),s?o.fb.modal.find(".fbx-social-toggle,.fbx-social").insertAfter(t):o.fb.modal.find(".fbx-social-toggle,.fbx-social").appendTo(t)):(o.fb.modal.find(".fbx-close").appendTo(t),o.fb.modal.find(".fbx-play,.fbx-pause").appendTo(t),o.fb.modal.find(".fbx-fullscreen-toggle").prependTo(t),o.fb.modal.find(".fbx-social-toggle,.fbx-social").appendTo(t)),o.fb.modal.find(".fbx-prev").insertBefore(t),o.fb.modal.find(".fbx-next").insertAfter(t)):(o.fb.modal.find(".fbx-close").appendTo(t),o.fb.modal.find(".fbx-play,.fbx-pause").appendTo(t),o.fb.modal.find(".fbx-fullscreen-toggle").prependTo(t),o.fb.modal.find(".fbx-prev").prependTo(t),o.fb.modal.find(".fbx-next").appendTo(t),o.fb.modal.find(".fbx-social-toggle,.fbx-social").appendTo(t)),n||s||a?o.fb.modal.find(".fbx-caption").appendTo(o.fb.modal):o.fb.modal.find(".fbx-caption").appendTo(o.fb.modal.find(".fbx-stage"))},beforeShow:function(e){e.preventDefault(),e.fb.modal.removeClass("fbx-loading").addClass("fbx-show").one(o.browser.transitionEnd(),function(){e.fb.instance.raise("foobox.afterShow",{item:e.fb.item}),e.fb.instance.raise("foobox.afterLoad",{item:e.fb.item}),e.fb.instance.modal._busy=!1}).addClass("fbx-animate")},beforeClose:function(t){function i(){t.fb.instance.modal._closed=!0,t.fb.instance.modal._busy=!1,e("body").removeClass("fbx-active"),t.fb.instance.raise("foobox.close"),t.fb.modal.removeClass("fbx-loading fbx-show").find(".fbx-item-current, .fbx-item-next").empty(),t.fb.options.hideScrollbars&&e("body,html").css("overflow",""),t.fb.instance.raise("foobox.afterClose")
}t.preventDefault(),t.fb.modal.hasClass("fbx-animate")?t.fb.modal.one(o.browser.transitionEnd(),i).removeClass("fbx-animate"):i()}}},o.addons.register(o.FX,t)}(jQuery,window.FooBox),function(e,o){var t={keyboard:{enabled:!0,preventDefault:!1,stopPropagation:!1}};o.Keyboard=function(e){this.FooBox=e;var t=this;this.preinit=function(e){t.handlers.unbind(!0),e.bind({"foobox.initialized foobox.reinitialized":t.handlers.initialized,"foobox.setupHtml":t.handlers.setupHtml})},this.destroy=function(){t.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&t.FooBox.element.unbind({"foobox.initialized foobox.reinitialized":t.handlers.initialized,"foobox.setupHtml":t.handlers.setupHtml}),t.FooBox.element.unbind("foobox.afterLoad",t.handlers.afterLoad),o.isjQuery(t.FooBox.modal.element)&&t.FooBox.modal.element.unbind("keydown.foobox",t.handlers.onKeydown)},initialized:function(){t.handlers.unbind(),1==t.FooBox.options.keyboard.enabled&&(t.FooBox.element.bind("foobox.afterLoad",t.handlers.afterLoad),o.isjQuery(t.FooBox.modal.element)&&t.FooBox.modal.element.bind("keydown.foobox",t.handlers.onKeydown))},setupHtml:function(e){e.fb.modal.attr("tabindex",0)},afterLoad:function(e){e.fb.modal.focus()},onKeydown:function(e){var o=t.FooBox.modal,i=t.FooBox.options.keyboard;o.element.hasClass("fbx-show")&&(o.element.hasClass("fbx-fullscreen-mode")||27!==e.which?t.FooBox.items.multiple()&&37===e.which?o.prev():t.FooBox.items.multiple()&&39===e.which&&o.next():o.close(),1==i.preventDefault&&e.preventDefault(),1==i.stopPropagation&&e.stopPropagation(),t.FooBox.raise("foobox.keydown",{keyCode:e.which}))}}},o.addons.register(o.Keyboard,t)}(jQuery,window.FooBox),function(e,o){var t={hideNavOnMobile:!1,resizeTimeout:300,breakpoints:{phone:640,tablet:1024},iosInterval:200};o.BPInfo=function(t){var i=window.devicePixelRatio!==void 0&&o.browser.isMobile?window.devicePixelRatio:1;this.width=(window.innerWidth||document.documentElement.clientWidth||(document.body?document.body.offsetWidth:0))/i,this.height=(window.innerHeight||document.documentElement.clientHeight||(document.body?document.body.offsetHeight:0))/i,this.orientation=this.width>this.height?"fbx-landscape":"fbx-portrait";var n,s=null;if(e.isArray(t))for(var a=0;t.length>a;a++)if(n=t[a],n&&n.width&&this.width<=n.width){s=n;break}this.breakpoint=null==s?"fbx-desktop":s.name},o.Responsive=function(t){this.FooBox=t,this.breakpoint={values:[],names:""},this.timers={resize:new o.Timer,ios:new o.Timer};var i=this,n=null;this.preinit=function(e){i.handlers.unbind(!0),e.bind("foobox.initialized foobox.reinitialized",i.handlers.initialized)},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(o){o=o||!1,o&&i.FooBox.element.unbind("foobox.initialized foobox.reinitialized",i.handlers.initialized),e(window).unbind("resize.foobox",i.handlers.resize),i.FooBox.element.unbind({"foobox.beforeShow":i.handlers.iosBeforeShow,"foobox.close":i.handlers.iosClose})},initialized:function(){i.handlers.unbind(),i.setup.breakpoints(),i.style(),e(window).bind("resize.foobox",i.handlers.resize),o.browser.iOS&&(o.browser.isSafari||o.browser.isChrome)&&i.FooBox.element.bind({"foobox.beforeShow":i.handlers.iosBeforeShow,"foobox.close":i.handlers.iosClose})},resize:function(){i.timers.resize.start(function(){i.style();var e=i.FooBox.items.current();if(i.FooBox.modal.element.has("fbx-show")&&null!=e){var o=e.handler.getSize(e);i.FooBox.modal.resize(o)}},i.FooBox.options.resizeTimeout)},iosBeforeShow:function(){i.timers.ios.start(i.handlers.ios,i.FooBox.options.iosInterval)},iosClose:function(){i.timers.ios.stop()},ios:function(){if(!i.FooBox.modal.element.hasClass("fbx-show"))return i.timers.ios.start(i.handlers.ios,i.FooBox.options.iosInterval),void 0;var e=window.orientation||0,t=window.innerHeight,s=90==e||-90==e,a=0,r=0,l=s?screen.availWidth:screen.availHeight;o.browser.isChrome?(a=l-(s?76:56),r=l-(s?0:20)):o.browser.isSafari&&(a=l-88,r=l-(s?0:19)),(null==n||0==n)&&a>=t?(n=!0,i.iosRedraw()):(null==n||1==n)&&t>=r&&(n=!1,i.iosRedraw()),i.timers.ios.start(i.handlers.ios,i.FooBox.options.iosInterval)}},this.setup={breakpoints:function(){i.breakpoint.values=[],i.breakpoint.names="";for(var e in i.FooBox.options.breakpoints)i.FooBox.options.breakpoints.hasOwnProperty(e)&&(i.breakpoint.values.push({name:i.fixName(e),width:i.FooBox.options.breakpoints[e]}),i.breakpoint.names+=i.fixName(e)+" ");i.breakpoint.values.sort(function(e,o){return e.width-o.width})}},this.iosRedraw=function(){window.scrollTo(0,document.body.scrollTop),e(window).trigger("resize")},this.fixName=function(e){return/^fbx-[a-zA-Z0-9]/.test(e)?e:"fbx-"+e},this.style=function(){var e=new o.BPInfo(i.breakpoint.values),t=i.FooBox.modal.element;t.removeClass(i.breakpoint.names).removeClass("fbx-desktop fbx-landscape fbx-portrait").addClass(e.breakpoint).addClass(e.orientation),i.FooBox.options.hideNavOnMobile===!0?t.addClass("fbx-no-nav"):t.removeClass("fbx-no-nav")}},o.Responsive.metaCheck=function(){var o=e("meta[name=viewport]"),t=o.attr("content");if(o.length>0&&"string"==typeof t){for(var i=t.split(","),n=!1,s=!1,a=0;i.length>a;a++){var r=e.trim(i[a]);"width"==r.substring(0,5)?n=!0:"initial-scale"==r.substring(0,13)&&(s=!0)}n&&!s&&(i.push("initial-scale=1"),t=i.join(","),o.attr("content",t))}},o.addons.register(o.Responsive,t),o.Responsive.metaCheck()}(jQuery,window.FooBox),function(e,o){var t={slideshow:{autostart:!1,autostop:!1,enabled:!0,imagesOnly:!1,mousestopTimeout:300,timeout:6e3,sensitivity:130,skipErrors:!1}};o.Slideshow=function(e){this.FooBox=e,this.autostart=!1,this.running=!1,this.paused=0,this.remaining=0,this.timers={mousestop:new o.Timer};var t=this,i=null;this.preinit=function(e,o){t.handlers.unbind(!0),t.autostart=o.slideshow.autostart,e.bind({"foobox.initialized foobox.reinitialized":t.handlers.initialized,"foobox.setupHtml":t.handlers.setupHtml,"foobox.setupOptions":t.handlers.setupOptions,"foobox.onError":t.handlers.onError})},this.destroy=function(){t.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&t.FooBox.element.unbind({"foobox.initialized foobox.reinitialized":t.handlers.initialized,"foobox.setupHtml":t.handlers.setupHtml,"foobox.setupOptions":t.handlers.setupOptions,"foobox.onError":t.handlers.onError}),t.FooBox.element.unbind({"foobox.beforeLoad":t.handlers.beforeLoad,"foobox.afterLoad":t.handlers.afterLoad,"foobox.close":t.handlers.onClose,"foobox.previous foobox.next":t.handlers.onChange,"foobox.keydown":t.handlers.onKeydown,"foobox.fullscreenEnabled":t.handlers.fullscreenEnabled,"foobox.fullscreenDisabled":t.handlers.fullscreenDisabled}),t.FooBox.modal instanceof o.Modal&&o.isjQuery(t.FooBox.modal.element)&&t.FooBox.modal.element.undelegate("click.slideshow").unbind("mousemove.foobox").find(".fbx-play, .fbx-pause").unbind("mouseenter.foobox mouseleave.foobox")},initialized:function(e){t.handlers.unbind(),e.fb.options.slideshow.enabled===!0&&e.fb.instance.items.multiple()&&(e.fb.instance.element.bind({"foobox.beforeLoad":t.handlers.beforeLoad,"foobox.afterLoad":t.handlers.afterLoad,"foobox.close":t.handlers.onClose,"foobox.previous foobox.next":t.handlers.onChange,"foobox.keydown":t.handlers.onKeydown,"foobox.fullscreenEnabled":t.handlers.fullscreenEnabled,"foobox.fullscreenDisabled":t.handlers.fullscreenDisabled}),e.fb.modal.delegate(".fbx-play","click.slideshow",t.handlers.playClicked).delegate(".fbx-pause","click.slideshow",t.handlers.pauseClicked),e.fb.modal.hasClass("fbx-playpause-center")&&e.fb.modal.bind("mousemove.foobox",t.handlers.mousemove).find(".fbx-play, .fbx-pause").bind("mouseenter.foobox",t.handlers.mouseenter).bind("mouseleave.foobox",t.handlers.mouseleave))},setupHtml:function(e){e.fb.options.slideshow.enabled===!0&&e.fb.modal.find(".fbx-inner").append('<div class="fbx-progress"></div>').append('<a href="#playpause" class="fbx-play fbx-btn-transition fbx-btn-shadow"></a>')},setupOptions:function(e){e.fb.options.slideshow.enabled===!0&&e.fb.modal.addClass("fbx-slideshow")},beforeLoad:function(e){e.fb.modal.hasClass("fbx-fullscreen-mode")&&e.fb.modal.hasClass("fbx-playpause-center")&&(i=null,t.timers.mousestop.stop())},afterLoad:function(e){return 1==e.fb.options.slideshow.autostop&&e.fb.instance.items.is.last(e.fb.item)?(t.stop(!1),void 0):(1==t.autostart&&t.start(),void 0)},onError:function(e){if(e.fb.options.slideshow.skipErrors===!0&&e.fb.instance.modal._first===!1)switch(e.preventDefault(),e.fb.instance.items.indexes.direction){case"<":e.fb.instance.modal.prev(e.fb.options.slideshow.imagesOnly===!0?"image":null);break;default:e.fb.instance.modal.next(e.fb.options.slideshow.imagesOnly===!0?"image":null)}else 1==t.autostart&&t.start()},onClose:function(){t.stop(!1)},onChange:function(){t.stop(1==t.autostart||1==t.running)},onKeydown:function(e){32==e.fb.keyCode&&(1==t.running?t.pause():t.start())},fullscreenEnabled:function(e){e.fb.modal.hasClass("fbx-fullscreen-mode")&&e.fb.modal.hasClass("fbx-playpause-center")&&t.timers.mousestop.start(function(){i=null,e.fb.modal.find(".fbx-play, .fbx-pause").fadeOut("fast")},t.FooBox.options.slideshow.mousestopTimeout)},fullscreenDisabled:function(e){!e.fb.modal.hasClass("fbx-fullscreen-mode")&&e.fb.modal.hasClass("fbx-playpause-center")&&(e.fb.modal.find(".fbx-play, .fbx-pause").removeClass("fbx-active"),i=null,t.timers.mousestop.stop())},playClicked:function(e){e.preventDefault(),e.stopPropagation(),t.start()},pauseClicked:function(e){e.preventDefault(),e.stopPropagation(),t.pause()},mousemove:function(e){var o=t.FooBox.options.slideshow.sensitivity,n=t.FooBox.modal.element;if(n.hasClass("fbx-fullscreen-mode")&&!n.hasClass("fbx-loading")&&!n.hasClass("fbx-error")&&!n.hasClass("fbx-playpause-active")&&n.hasClass("fbx-playpause-center"))if(null==i)i={},i.X=e.pageX,i.Y=e.pageY;else if(i.X-e.pageX>=o||i.Y-e.pageY>=o||-o>=i.X-e.pageX||-o>=i.Y-e.pageY){var s=n.find(".fbx-play, .fbx-pause");s.is(":visible")||s.fadeIn("fast"),t.timers.mousestop.start(function(){i=null,s.fadeOut("fast")},t.FooBox.options.slideshow.mousestopTimeout)}},mouseenter:function(){var e=t.FooBox.modal.element;e.hasClass("fbx-fullscreen-mode")&&!e.hasClass("fbx-error")&&e.hasClass("fbx-playpause-center")&&(e.addClass("fbx-playpause-active"),i=null,t.timers.mousestop.stop())},mouseleave:function(){var e=t.FooBox.modal.element;e.hasClass("fbx-fullscreen-mode")&&!e.hasClass("fbx-error")&&e.hasClass("fbx-playpause-center")&&(e.removeClass("fbx-playpause-active"),t.timers.mousestop.start(function(){i=null,e.find(".fbx-play, .fbx-pause").fadeOut("fast")},t.FooBox.options.slideshow.mousestopTimeout))}},this.start=function(){t.remaining=1>t.remaining?t.FooBox.options.slideshow.timeout:t.remaining,t.autostart=!1,t.running=!0,t.FooBox.modal.element.find(".fbx-progress").css("width",t.paused+"%").show().animate({width:"100%"},t.remaining,"linear",function(){t.paused=0,t.remaining=t.FooBox.options.slideshow.timeout,t.autostart=!0,t.FooBox.modal.next(t.FooBox.options.slideshow.imagesOnly===!0?"image":null)}),t.FooBox.modal.element.find(".fbx-play").toggleClass("fbx-play fbx-pause"),t.FooBox.raise("foobox.slideshowStart")},this.stop=function(e){t.paused=0,t.FooBox.modal.element.find(".fbx-progress").stop().hide().css("width","0%"),t.running=!1,t.autostart=e,t.remaining=t.FooBox.options.slideshow.timeout,e||t.FooBox.modal.element.find(".fbx-pause").toggleClass("fbx-play fbx-pause"),t.FooBox.raise("foobox.slideshowStop")},this.pause=function(){var e=t.FooBox.modal.element.find(".fbx-progress"),o=e.stop().css("width"),i=e.css("position"),n="fixed"==i?t.FooBox.modal.element.css("width"):t.FooBox.modal.element.find(".fbx-inner").css("width");t.running=!1,t.paused=100*(parseInt(o,0)/parseInt(n,0)),t.remaining=t.FooBox.options.slideshow.timeout-t.FooBox.options.slideshow.timeout*(t.paused/100),t.FooBox.modal.element.find(".fbx-pause").toggleClass("fbx-play fbx-pause"),t.FooBox.raise("foobox.slideshowPause")}},o.addons.register(o.Slideshow,t)}(jQuery,window.FooBox),function(e,o){var t={social:{animation:"fade",enabled:!1,position:"fbx-top",onlyShowOnHover:!1,onlyShowOnClick:!1,hoverDelay:300,excludes:["iframe","html"],original:!1,queryString:null,links:[]}};o.Item.prototype.social=!1,o.Social=function(t){this.FooBox=t,this.timers={hover:new o.Timer};var i=this,n=document.createElement("a");this.preinit=function(e){i.handlers.unbind(!0),e.bind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupHtml":i.handlers.setupHtml,"foobox.setupOptions":i.handlers.setupOptions,"foobox.onError":i.handlers.onError,"foobox.parseItem":i.handlers.parseItem})},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&i.FooBox.element.unbind({"foobox.initialized foobox.reinitialized":i.handlers.initialized,"foobox.setupHtml":i.handlers.setupHtml,"foobox.setupOptions":i.handlers.setupOptions,"foobox.onError":i.handlers.onError,"foobox.parseItem":i.handlers.parseItem}),i.FooBox.element.unbind({"foobox.beforeLoad":i.handlers.beforeLoad,"foobox.afterLoad":i.handlers.afterLoad,"foobox.closeOverlays":i.handlers.closeOverlays,"foobox.afterResize":i.handlers.afterResize}),i.FooBox.modal instanceof o.Modal&&o.isjQuery(i.FooBox.modal.element)&&i.FooBox.modal.element.undelegate("mouseenter.social mouseleave.social").find(".fbx-item-current, .fbx-item-next").unbind("click.social")},initialized:function(e){i.handlers.unbind(),e.fb.options.social.enabled===!0&&(e.fb.instance.element.bind({"foobox.beforeLoad":i.handlers.beforeLoad,"foobox.afterLoad":i.handlers.afterLoad,"foobox.closeOverlays":i.handlers.closeOverlays,"foobox.afterResize":i.handlers.afterResize}),e.fb.modal.find(".fbx-item-current, .fbx-item-next").unbind("click.social").bind("click.social",function(){e.fb.modal.hasClass("fbx-phone")||i.handlers.toggleSocial()}).end().find(".fbx-social-toggle").unbind("click.social").bind("click.social",function(e){e.preventDefault(),e.stopPropagation(),i.handlers.toggleSocial()}),e.fb.options.social.onlyShowOnHover===!0&&e.fb.modal.delegate(".fbx-inner:not(:has(.fbx-item-error))","mouseenter.social",i.handlers.mouseenter).delegate(".fbx-inner:not(:has(.fbx-item-error))","mouseleave.social",i.handlers.mouseleave))},afterResize:function(e){e.fb.modal.hasClass("fbx-phone")?i.handlers.closeOverlays(e):0==e.fb.options.social.onlyShowOnHover&&0==e.fb.options.social.onlyShowOnClick&&e.fb.modal.removeClass("fbx-social-hidden fbx-social-showing").find(".fbx-social").css("display","")},closeOverlays:function(e){e.fb.modal.removeClass("fbx-social-showing").addClass("fbx-social-hidden"),i.hide()},toggleSocial:function(){i.FooBox.modal.element.hasClass("fbx-error")||(i.FooBox.modal.element.find(".fbx-social").is(":visible")?(i.FooBox.modal.element.removeClass("fbx-social-showing"),i.hide()&&i.FooBox.modal.element.addClass("fbx-social-hidden")):(i.FooBox.modal.element.removeClass("fbx-social-hidden"),i.show()&&i.FooBox.modal.element.addClass("fbx-social-showing")))},mouseenter:function(){var e=i.FooBox.items.current();e.element.hasClass("no-social")||i.timers.hover.start(function(){i.show()},i.FooBox.options.social.hoverDelay)},mouseleave:function(){var e=i.FooBox.items.current();e.element.hasClass("no-social")||i.timers.hover.start(function(){i.hide()},i.FooBox.options.social.hoverDelay)},setupHtml:function(o){if(o.fb.options.social.enabled){for(var t=e('<div class="fbx-social"></div>'),i=0;o.fb.options.social.links.length>i;i++){var n=o.fb.options.social.links[i];t.append('<a href="'+n.url+'" rel="nofollow" target="_blank" class="'+n.css+'" title="'+n.title+'"></a>')}o.fb.modal.find(".fbx-inner").append(t).append('<a href="#social" class="fbx-social-toggle fbx-btn-transition fbx-btn-shadow"></a>')}},setupOptions:function(e){if(e.fb.options.social.enabled){var o=e.fb.options.social.enabled&&!e.fb.options.social.onlyShowOnHover?"":"none";e.fb.modal.find(".fbx-social").addClass(e.fb.options.social.position).css("display",o),1==e.fb.options.social.enabled?e.fb.modal.addClass("fbx-social-share"):e.fb.modal.removeClass("fbx-social-share")}},beforeLoad:function(o){return e(o.fb.item.element).hasClass("no-social")?(o.fb.modal.removeClass("fbx-social-share"),void 0):(o.fb.modal.addClass("fbx-social-share"),o.fb.modal.hasClass("fbx-phone")?(i.FooBox.modal.element.find(".fbx-social").css("display","none"),void 0):(1!=o.fb.options.social.onlyShowOnHover&&i.FooBox.modal.element.find(".fbx-social").css("display","none"),void 0))},afterLoad:function(o){if(e(o.fb.item.element).hasClass("no-social"))return o.fb.modal.removeClass("fbx-social-share"),void 0;if(o.fb.modal.addClass("fbx-social-share"),o.fb.modal.hasClass("fbx-phone")&&o.fb.modal.find(".fbx-social").css("display","none"),0==o.fb.modal.find(".fbx-item-error").length)for(var t=0;o.fb.options.social.links.length>t;t++){var n=o.fb.options.social.links[t],s=e.merge(e.merge([],o.fb.options.social.excludes||[]),n.excludes||[]),a=o.fb.modal.find("."+n.css);if(a.length>0)if(-1!==e.inArray(o.fb.item.type,s))a.removeAttr("href").hide();else{var r=i.parseUrl(n,o.fb.item);""!=r&&"#"!=r?(r=i.cleanUrl(r),n.callback&&e.isFunction(n.callback)&&(r=n.callback.call(this,r)),"fbx-download"==n.css&&a.attr("download",r.replace(/^.*[\\\/]/,"")),a.attr("href",r).show()):a.removeAttr("href").hide()}}1==o.fb.options.social.onlyShowOnHover||1==o.fb.options.social.onlyShowOnClick?i.hide():i.show()},parseItem:function(e){e.fb.item.share_url=e.fb.item.element.data("url")||null},onError:function(e){e.fb.modal.find(".fbx-social").css("display","none")}},this.hide=function(){var e=i.FooBox.items.current(),o=i.FooBox.modal.element.find(".fbx-social");if(!i.FooBox.options.social.enabled||!e.social||e.element.hasClass("no-social"))return o.css("display","none"),!0;switch(i.FooBox.options.social.animation){case"fade":o.stop(!0,!0).fadeOut(500);break;case"slide":o.stop(!0,!0).slideUp(500);break;default:o.css("display","none")}return!0},this.show=function(){var e=i.FooBox.items.current(),t=i.FooBox.modal.element.find(".fbx-social");if(!i.FooBox.options.social.enabled||!e.social||i.FooBox.modal.element.hasClass("fbx-social-hidden")||o.isjQuery(e.element)&&e.element.hasClass("no-social"))return t.css("display","none"),!1;switch(i.FooBox.modal.element.hasClass("fbx-phone")&&t.one("click",i.hide),i.FooBox.options.social.animation){case"fade":t.stop(!0,!0).fadeIn(600);break;case"slide":t.stop(!0,!0).slideDown(400);break;default:t.css("display","")}return!0},this.fullUrl=function(e){return n.href=e,n.href},this.fixUrl=function(e){if(i.FooBox.options.social.queryString){var o="",t=-1!==e.indexOf("?")?"&":"?";return-1!==e.indexOf("#")&&(o=e.replace(/.*#/,"#"),e=e.replace(/#.*/,"")),e+t+i.FooBox.options.social.queryString+o}return e},this.parseUrl=function(o,t){var n=o.url,s=this.fixUrl(t.share_url?t.share_url:i.FooBox.options.social.original?i.fullUrl(t.url):location.href);if(-1!=s.indexOf("{img}")&&(s=s.replace(/{img}/g,decodeURIComponent(t.image_url))),-1!=n.indexOf("{url-ne}")&&(n=n.replace(/{url-ne}/g,s)),-1!=n.indexOf("{url}")&&(n=n.replace(/{url}/g,encodeURIComponent(s))),-1!=n.indexOf("{img!}")){if(!t.image_url)return"";n=n.replace(/{img!}/g,encodeURIComponent(t.image_url))}if(-1!=n.indexOf("{img-ne}")&&(n=n.replace(/{img-ne}/g,t.image_url)),-1!=n.indexOf("{img}")){var a=decodeURIComponent(t.image_url);n=n.replace(/{img}/g,encodeURIComponent(a))}if(-1!=n.indexOf("{title}")){var r=[t.title];r="caption"==o.titleSource?[t.title,t.description]:"h1"==o.titleSource?[e("h1:first").text()]:"custom"==o.titleSource?[o.titleCustom]:[document.title,t.title],r=e.grep(r,function(e){return e}),r=r.join(" - "),r=r.replace(/(<([^>]+)>)/gi,""),n=n.replace(/{title}/g,encodeURIComponent(r))}if(-1!=n.indexOf("{desc}")){var l=""+(t.description||"");l=l.replace(/(<([^>]+)>)/gi,""),n=n.replace(/{desc}/g,encodeURIComponent(l))}if(-1!=n.indexOf("{is_video}")){var d=t.video_valid?"true":"false";n=n.replace(/{is_video}/g,d)}return n},this.cleanUrl=function(e){e=e.replace(/\{([^{}]*)}/g,"");var o=e.match(/[^\=\&\?]+=[^\=\&\?]+/g),t=e.split("?")[0];return o&&o.length>0&&(t+="?"+o.join("&")),t}},o.addons.register(o.Social,t)}(jQuery,window.FooBox),function(e,o){var t={swipe:{enabled:!0,min:80}};o.Swipe=function(e){this.FooBox=e,this.isMoving=!1;var t,i=this;this.preinit=function(e){i.handlers.unbind(!0),e.bind("foobox.initialized foobox.reinitialized",i.handlers.initialized)},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&i.FooBox.element.unbind("foobox.initialized foobox.reinitialized",i.handlers.initialized),i.FooBox.modal instanceof o.Modal&&o.isjQuery(i.FooBox.modal.element)&&i.FooBox.modal.element.unbind({touchstart:i.handlers.onTouchStart,touchmove:i.handlers.onTouchMove})},initialized:function(e){i.handlers.unbind(),e.fb.options.swipe.enabled===!0&&e.fb.modal.bind("touchstart",i.handlers.onTouchStart)},onTouchStart:function(e){var o=e.originalEvent.touches||e.touches;1==o.length&&i.FooBox.items.multiple()&&(t=o[0].pageX,i.isMoving=!0,i.FooBox.modal.element.bind("touchmove",i.handlers.onTouchMove))},onTouchMove:function(e){if(e.preventDefault(),!i.isMoving)return!1;var o=e.originalEvent.touches||e.touches,n=o[0].pageX,s=t-n;return Math.abs(s)>=i.FooBox.options.swipe.min&&(i.cancelTouch(),s>0?(i.FooBox.raise("foobox.swipeRight"),i.FooBox.modal.next()):(i.FooBox.raise("foobox.swipeLeft"),i.FooBox.modal.prev())),!1}},this.cancelTouch=function(){i.FooBox.modal.element.unbind("touchmove",i.handlers.onTouchMove),t=null,i.isMoving=!1}},o.addons.register(o.Swipe,t)}(jQuery,window.FooBox),function(e,o){var t={wordpress:{enabled:!1}};o.Wordpress=function(t){this.FooBox=t;var i=this;this.preinit=function(e){i.handlers.unbind(!0),e.bind("foobox.createCaption",i.handlers.onCreateCaption)},this.destroy=function(){i.handlers.unbind(!0)},this.handlers={unbind:function(e){e=e||!1,e&&i.FooBox.element.unbind("foobox.createCaption",i.handlers.onCreateCaption)},onCreateCaption:function(t){var i=t.fb.options,n=t.fb.instance.element,s=t.fb.item.element,a="",r=t.fb.item.title,l=t.fb.item.description,d=s.data("captionTitle"),f=s.data("captionDesc");if(1==i.wordpress.enabled){if(n.hasClass("gallery"))i.captions.overrideTitle===!1&&(r=d||s.parents(".gallery-item:first").find(".wp-caption-text:first").html()||s.parents(".gallery-item:first").find(".gallery-caption:first").html()||r||""),i.captions.overrideDesc===!1&&(l=f||s.find("img").attr("alt")||l||"");else if(n.hasClass("wp-caption")||s.hasClass("wp-caption"))i.captions.overrideTitle===!1&&(r=d||s.find("img").attr("title")||s.parents(".wp-caption:first").find(".wp-caption-text:first").html()||r||""),i.captions.overrideDesc===!1&&(l=f||s.find("img").attr("alt")||l||"");else if(s.parents(".wp-caption:first").length>0)i.captions.overrideTitle===!1&&(r=d||s.parents(".wp-caption:first").find("img").attr("title")||s.parents(".wp-caption:first").find(".wp-caption-text:first").html()||r||""),i.captions.overrideDesc===!1&&(l=f||s.parents(".wp-caption:first").find("img").attr("alt")||l||"");else{if(!n.hasClass("tiled-gallery"))return;i.captions.overrideTitle===!1&&(r=d||s.parents(".tiled-gallery-item:first").find(".tiled-gallery-caption").html()||s.find("img").data("image-title")||s.find("img").attr("title")||r||""),i.captions.overrideDesc===!1&&(l=f||e.trim(s.find("img").data("image-description")).replace(/(^<p>)|(<\/p>$)/gi,"")||l||"")}r+="",l+="",r=r||"",l=l||"";var c=e("<div/>"),u=c.html(r).text(),h=c.html(l).text();(e.trim(r)==e.trim(l)||u==h)&&(l=null),a="string"==typeof r&&r.length>0?o.format('<div class="fbx-caption-title">{0}</div>',r):a,a="string"==typeof l&&l.length>0?a+o.format('<div class="fbx-caption-desc">{0}</div>',l):a,t.fb.item.title=r,t.fb.item.description=l,t.fb.item.caption=a}}}},o.addons.register(o.Wordpress,t)}(jQuery,window.FooBox);